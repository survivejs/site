<html lang="en"><head><title>SurviveJS - Enabling Sourcemaps</title><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimal-ui"/><meta name="description" content="

To improve the debuggability of the application, we can set up sourcemaps for both code and styling. Sourcemaps allow you to see exactly where an error was raised. This makes them particularly valuable during development.

One approach is to simply skip sourcemaps during development and rely on br…"/><meta name="keywords" content="webpack,react,javascript,programming,web development"/><link rel="icon" type="image/png" href="/assets/img/favicon.png"/><link rel="alternate" type="application/atom+xml" href="/atom.xml"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css"/><link rel="stylesheet" href="/assets/main.css"/></head><body><main role="main"><div class="chapter__wrapper"><div class="header-image" style="background-image:url(/assets/img/chapters/wheels.jpg);"></div><h1 class="post__heading">Enabling Sourcemaps</h1><div class="header-extra"><a href="https://pixabay.com/en/wheels-machine-installation-art-784865/">Efraimstochter (Public Domain)</a></div><div class="toc-nav__wrapper"><h4 class="search-nav--header">Search</h4><input id="search"/><h4 class="toc-nav--header">Table of Contents</h4><ul class="toc-nav"><li class="toc-intro"><a class="toc-nav__link intro" href="/webpack/introduction">Introduction</a></li><li class="toc-intro"><a class="toc-nav__link intro" href="/webpack/webpack-compared">Webpack Compared</a></li><li class="toc-intro"><a class="toc-nav__link intro" href="/webpack/why-webpack">Why Webpack?</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/developing-with-webpack">Developing with Webpack</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/developing-with-webpack/getting-started">Getting Started</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/developing-with-webpack/automatic-browser-refresh">Automatic Browser Refresh</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/developing-with-webpack/configuring-hmr">Configuring Hot Module Replacement</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/developing-with-webpack/linting">Linting JavaScript</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/developing-with-webpack/splitting-configuration">Splitting the Configuration</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/handling-styles">Handling Styles with Webpack</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/handling-styles/loading">Loading Styles</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/handling-styles/separating-css">Separating CSS</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/handling-styles/eliminating-unused-css">Eliminating Unused CSS</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/handling-styles/linting">Linting CSS</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/understanding-loaders">Understanding Loaders</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/understanding-loaders/loader-definitions">Loader Definitions</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/understanding-loaders/loading-images">Loading Images</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/understanding-loaders/loading-fonts">Loading Fonts</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/understanding-loaders/writing-loaders">Writing Loaders</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/building-with-webpack">Building with Webpack</a></li><li class="toc-chapter"><span class="toc-nav__link toc-nav__link--current chapter">Enabling Sourcemaps</span></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/building-with-webpack/splitting-bundles">Splitting Bundles</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/building-with-webpack/code-splitting">Code Splitting</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/building-with-webpack/processing-with-babel">Processing with Babel</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/building-with-webpack/cleaning-build">Cleaning the Build</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/building-with-webpack/hosting-on-github-pages">Hosting on GitHub Pages</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/optimizing-build">Optimizing the Build</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/optimizing-build/minifying">Minifying the Build</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/optimizing-build/setting-environment-variables">Setting Environment Variables</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/optimizing-build/adding-hashes-to-filenames">Adding Hashes to Filenames</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/optimizing-build/analyzing-build-statistics">Analyzing Build Statistics</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/advanced-techniques">Advanced Techniques</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/advanced-techniques/consuming-packages">Consuming Packages</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/advanced-techniques/authoring-packages">Authoring Packages</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/advanced-techniques/configuring-react">Configuring React</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/appendices">Appendices</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/appendices/searching-with-react">Searching with React</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/appendices/configuring-hmr-with-react">Configuring Hot Module Replacement with React</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/appendices/writing-eslint-plugins">Writing ESLint Plugins</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/appendices/customizing-eslint">Customizing ESLint</a></li></ul><div><div class="buy-container"><a href="/webpack/introduction"><img class="sidebar-cover" src="/assets/img/webpack_title_page_small.png" width="255" height="329"/></a><p><a class="btn btn--normal btn--buy" href="https://leanpub.com/survivejs-webpack">Buy at Leanpub</a></p></div><h3>See also</h3><div class="buy-container"><a href="/react/introduction"><img class="sidebar-cover" src="/assets/img/react_title_page_small.png" width="255" height="329"/></a><p><a class="btn btn--normal btn--buy" href="https://leanpub.com/survivejs-react">Buy at Leanpub</a></p></div></div></div><div class="chapter"><div class="post__content"><blockquote class="latestpost tip"><div>From the blog:</div><a class="latestpost-link" href="/blog/survivejs-webpack-160">SurviveJS - Webpack - v1.6.0</a></blockquote><div class="chapter-content"><p><img src="/webpack/images/sourcemaps.png" alt="Sourcemaps in Chrome"></p>
<p>To improve the debuggability of the application, we can set up sourcemaps for both code and styling. Sourcemaps allow you to see exactly where an error was raised. This makes them particularly valuable during development.</p>
<p>One approach is to simply skip sourcemaps during development and rely on browser support of language features. This works particularly if you use ES6 without any extensions and develop using a modern browser. The great advantage of doing this is that you avoid all the problems related to sourcemaps while gaining better performance.</p>
<h2 class="header"><a class="header-anchor" href="#inline-sourcemaps-and-separate-sourcemaps" id="inline-sourcemaps-and-separate-sourcemaps"></a><span class="text">Inline Sourcemaps and Separate Sourcemaps</span><a class="header-anchor-select" href="#inline-sourcemaps-and-separate-sourcemaps">#</a></h2>
<p>Webpack can generate both inline sourcemaps included within bundles or separate sourcemap files. The former are useful during development due to better performance while the latter are handy for production usage as it will keep the bundle size small. In this case, loading sourcemaps becomes optional.</p>
<p>You may <strong>not</strong> want to generate a sourcemap for your production bundle as this makes it easy to inspect your application (it depends on whether you want this or not; it is good for staging). Simply skip the <code>devtool</code> field then or generate hidden variant. Skipping sourcemaps entirely also speeds up your build a notch as generating sourcemaps at the best quality can be a heavy operation.</p>
<p>Hidden sourcemaps give trace information only. You can connect them with a monitoring service to get traces as the application crashes allowing you to fix the problematic situations. This isn&#39;t ideal, but it&#39;s better to know about possible problems than not.</p>
<blockquote class="tip"><i class="icon-attention-circled"></i>It is a good idea to study the documentation of the loaders you are using to see loader specific tips. For example, with TypeScript, you may need to set a certain flag to make it work as you expect.</blockquote><h2 class="header"><a class="header-anchor" href="#enabling-sourcemaps" id="enabling-sourcemaps"></a><span class="text">Enabling Sourcemaps</span><a class="header-anchor-select" href="#enabling-sourcemaps">#</a></h2>
<p>Webpack provides two ways to enable sourcemaps. There&#39;s a shortcut field known as <code>devtool</code>. There&#39;s also a plugin that gives more options to tweak. We&#39;ll discuss the plugin briefly in the end of this chapter.</p>
<p>To get started, we can wrap the basic idea within a configuration part. You can convert this to use the plugin later if you want:</p>
<p><strong>webpack.parts.js</strong></p>
<pre><code class="lang-javascript"><span class="token punctuation" >.</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span>

exports<span class="token punctuation" >.</span>generateSourcemaps <span class="token operator" >=</span> <span class="token keyword" >function</span><span class="token punctuation" >(</span>type<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
  <span class="token keyword" >return</span> <span class="token punctuation" >{</span>
    devtool<span class="token punctuation" >:</span> type<span class="token punctuation" >,</span>
  <span class="token punctuation" >}</span><span class="token punctuation" >;</span>
<span class="token punctuation" >}</span><span class="token punctuation" >;</span>
</code></pre>
<p>Webpack supports a wide variety of sourcemap types. These vary based on quality and build speed. For now, we can enable <code>eval-source-map</code> for development and <code>source-map</code> for production. This way we get good quality while trading off performance, especially during development.</p>
<p><code>eval-source-map</code> builds slowly initially, but it provides fast rebuild speed. Faster development specific options, such as <code>cheap-module-eval-source-map</code> and <code>eval</code>, produce lower quality sourcemaps. All <code>eval</code> options will emit sourcemaps as a part of your JavaScript code.</p>
<p><code>source-map</code> is the slowest and highest quality option of them all, but that&#39;s fine for a production build.</p>
<p>You can set these up as follows:</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="lang-javascript"><span class="token punctuation" >.</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span>

module<span class="token punctuation" >.</span>exports <span class="token operator" >=</span> <span class="token keyword" >function</span><span class="token punctuation" >(</span>env<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
  <span class="token keyword" >if</span> <span class="token punctuation" >(</span>env <span class="token operator" >===</span> <span class="token string" >'production'</span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
    <span class="token keyword" >return</span> <span class="token function" >merge</span><span class="token punctuation" >(</span><span class="token punctuation" >[</span>
      common<span class="token punctuation" >,</span>
<div class="leanpub-insert">
      parts<span class="token punctuation" >.</span><span class="token function" >generateSourcemaps</span><span class="token punctuation" >(</span><span class="token string" >'source-map'</span><span class="token punctuation" >)</span><span class="token punctuation" >,</span>
</div>
      parts<span class="token punctuation" >.</span><span class="token function" >lintJavaScript</span><span class="token punctuation" >(</span><span class="token punctuation" >{</span> paths<span class="token punctuation" >:</span> PATHS<span class="token punctuation" >.</span>app <span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >,</span>
      parts<span class="token punctuation" >.</span><span class="token function" >extractCSS</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span><span class="token punctuation" >,</span>
      parts<span class="token punctuation" >.</span><span class="token function" >purifyCSS</span><span class="token punctuation" >(</span>PATHS<span class="token punctuation" >.</span>app<span class="token punctuation" >)</span><span class="token punctuation" >,</span>
    <span class="token punctuation" >]</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
  <span class="token punctuation" >}</span>

  <span class="token keyword" >return</span> <span class="token function" >merge</span><span class="token punctuation" >(</span><span class="token punctuation" >[</span>
    common<span class="token punctuation" >,</span>
    <span class="token punctuation" >{</span>
      plugins<span class="token punctuation" >:</span> <span class="token punctuation" >[</span>
        <span class="token keyword" >new</span> <span class="token class-name" >webpack<span class="token punctuation" >.</span>NamedModulesPlugin</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span><span class="token punctuation" >,</span>
      <span class="token punctuation" >]</span><span class="token punctuation" >,</span>
    <span class="token punctuation" >}</span><span class="token punctuation" >,</span>
<div class="leanpub-insert">
    parts<span class="token punctuation" >.</span><span class="token function" >generateSourcemaps</span><span class="token punctuation" >(</span><span class="token string" >'eval-source-map'</span><span class="token punctuation" >)</span><span class="token punctuation" >,</span>
</div>
    parts<span class="token punctuation" >.</span><span class="token function" >devServer</span><span class="token punctuation" >(</span><span class="token punctuation" >{</span>
      <span class="token comment" spellcheck="true">// Customize host/port here if needed</span>
      host<span class="token punctuation" >:</span> process<span class="token punctuation" >.</span>env<span class="token punctuation" >.</span>HOST<span class="token punctuation" >,</span>
      port<span class="token punctuation" >:</span> process<span class="token punctuation" >.</span>env<span class="token punctuation" >.</span>PORT<span class="token punctuation" >,</span>
    <span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >,</span>
    <span class="token punctuation" >.</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span>
  <span class="token punctuation" >]</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
<span class="token punctuation" >}</span><span class="token punctuation" >;</span>
</code></pre>
<p>If you build the project now (<code>npm run build</code>), you should see something like this:</p>
<pre><code class="lang-bash">Hash: a2231eda28272b4c83d5
Version: webpack 2.2.0
Time: 1671ms
      Asset       Size  Chunks             Chunk Names
     app.js     4.4 kB       0  <span class="token punctuation" >[</span>emitted<span class="token punctuation" >]</span>  app
    app.css     2.2 kB       0  <span class="token punctuation" >[</span>emitted<span class="token punctuation" >]</span>  app
 app.js.map    4.21 kB       0  <span class="token punctuation" >[</span>emitted<span class="token punctuation" >]</span>  app
app.css.map   84 bytes       0  <span class="token punctuation" >[</span>emitted<span class="token punctuation" >]</span>  app
 index.html  218 bytes          <span class="token punctuation" >[</span>emitted<span class="token punctuation" >]</span>
   <span class="token punctuation" >[</span>0<span class="token punctuation" >]</span> ./app/component.js 172 bytes <span class="token punctuation" >{</span>0<span class="token punctuation" >}</span> <span class="token punctuation" >[</span>built<span class="token punctuation" >]</span>
   <span class="token punctuation" >[</span>1<span class="token punctuation" >]</span> ./app/main.css 41 bytes <span class="token punctuation" >{</span>0<span class="token punctuation" >}</span> <span class="token punctuation" >[</span>built<span class="token punctuation" >]</span>
   <span class="token punctuation" >[</span>2<span class="token punctuation" >]</span> ./~/purecss/build/pure-min.css 41 bytes <span class="token punctuation" >{</span>0<span class="token punctuation" >}</span> <span class="token punctuation" >[</span>built<span class="token punctuation" >]</span>
   <span class="token punctuation" >[</span>3<span class="token punctuation" >]</span> ./app/index.js 566 bytes <span class="token punctuation" >{</span>0<span class="token punctuation" >}</span> <span class="token punctuation" >[</span>built<span class="token punctuation" >]</span>
</code></pre>
<p>Take a good look at those <em>.map</em> files. That&#39;s where the mapping between the generated and the original source happens. During development, it will write the mapping information within the bundle itself.</p>
<h3 class="header"><a class="header-anchor" href="#enabling-sourcemaps-on-browsers" id="enabling-sourcemaps-on-browsers"></a><span class="text">Enabling Sourcemaps on Browsers</span><a class="header-anchor-select" href="#enabling-sourcemaps-on-browsers">#</a></h3>
<p>To use sourcemaps on browsers, you may need to enable sourcemaps explicitly. I&#39;ve listed reference per browser below:</p>
<ul>
<li><a href="https://developer.chrome.com/devtools/docs/javascript-debugging">Chrome</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Tools/Debugger/How_to/Use_a_source_map">Firefox</a></li>
<li><a href="https://developer.microsoft.com/en-us/microsoft-edge/platform/documentation/f12-devtools-guide/debugger/#source-maps">IE Edge</a></li>
<li><a href="https://developer.apple.com/library/safari/documentation/AppleApplications/Conceptual/Safari_Developer_Guide/ResourcesandtheDOM/ResourcesandtheDOM.html#//apple_ref/doc/uid/TP40007874-CH3-SW2">Safari</a></li>
</ul>
<blockquote class="warning"><i class="icon-attention"></i>Sometimes sourcemaps <a href="https://github.com/webpack/webpack/issues/2478">might not update in Chrome inspector</a>. For now, the temporary fix is to force the inspector to reload itself by using <em>alt-r</em>.</blockquote><blockquote class="warning"><i class="icon-attention"></i>If you want to use breakpoints (i.e., a <code>debugger;</code> statement or ones set through the browser), the <code>eval</code>-based options won&#39;t work in Chrome!</blockquote><h2 class="header"><a class="header-anchor" href="#sourcemap-types-supported-by-webpack" id="sourcemap-types-supported-by-webpack"></a><span class="text">Sourcemap Types Supported by Webpack</span><a class="header-anchor-select" href="#sourcemap-types-supported-by-webpack">#</a></h2>
<p>The following table adapted from the <a href="https://webpack.js.org/configuration/devtool/#devtool">documentation</a> contains the supported types arranged based on speed. The lower the quality, the higher build and rebuild speeds are possible. It may take some experimentation to find the options that make the most sense for you.</p>
<table>
<thead>
<tr>
<th>Sourcemap type</th>
<th>Quality</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>eval</code></td>
<td>Generated code</td>
<td>Each module is executed with <code>eval</code> and <code>//@ sourceURL</code>.</td>
</tr>
<tr>
<td><code>cheap-eval-source-map</code></td>
<td>Transformed code (lines only, no column mappings!)</td>
<td>Each module is executed with <code>eval</code> and a sourcemap is added as a dataurl to the <code>eval</code>.</td>
</tr>
<tr>
<td><code>cheap-module-eval-</code> <code>source-map</code></td>
<td>Original source (lines only)</td>
<td>Same idea, but higher quality with lower performance.</td>
</tr>
<tr>
<td><code>eval-source-map</code></td>
<td>Original source</td>
<td>Same idea, but highest quality and lowest performance.</td>
</tr>
</tbody>
</table>
<p>You can start from <code>eval-source-map</code> and move to other options as it starts to feel too slow.</p>
<p>Webpack can also generate production usage friendly sourcemaps. These will end up in separate files and will be loaded by the browser only when required. This way your users get good performance while it&#39;s easier for you to debug the application. I&#39;ve listed them in a similar way below.</p>
<table>
<thead>
<tr>
<th>Sourcemap type</th>
<th>Quality</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>cheap-source-map</code></td>
<td>Transformed code (lines only)</td>
<td>Generated sourcemaps don&#39;t have column mappings. Sourcemaps from loaders, such as <em>css-loader</em>, are not used.</td>
</tr>
<tr>
<td><code>cheap-module-source-map</code></td>
<td>Original source (lines only)</td>
<td>Same except sourcemaps from loaders are simplified to a single mapping per line.</td>
</tr>
<tr>
<td><code>source-map</code></td>
<td>Original source</td>
<td>The best quality with the most complete result, but also the slowest.</td>
</tr>
<tr>
<td><code>hidden-source-map</code></td>
<td>Original without a reference</td>
<td>Use this if you don&#39;t want to expose sourcemaps to development tools while getting proper stack traces.</td>
</tr>
</tbody>
</table>
<p><code>source-map</code> is a good default here. Even though it will take longer to generate the sourcemaps this way, you will get the best quality. If you don&#39;t care about production sourcemaps, you can simply skip the setting there and get better performance in return.</p>
<p>There are a couple of other options that affect sourcemap generation:</p>
<pre><code class="lang-javascript"><span class="token punctuation" >{</span>
  output<span class="token punctuation" >:</span> <span class="token punctuation" >{</span>
    <span class="token comment" spellcheck="true">// Modify the name of the generated sourcemap file.</span>
    <span class="token comment" spellcheck="true">// You can use [file], [id], and [hash] replacements here.</span>
    <span class="token comment" spellcheck="true">// The default option is enough for most use cases.</span>
    sourceMapFilename<span class="token punctuation" >:</span> <span class="token string" >'[file].map'</span><span class="token punctuation" >,</span> <span class="token comment" spellcheck="true">// Default</span>

    <span class="token comment" spellcheck="true">// This is the sourcemap filename template. It's default</span>
    <span class="token comment" spellcheck="true">// format depends on the devtool option used. You don't</span>
    <span class="token comment" spellcheck="true">// need to modify this often.</span>
    devtoolModuleFilenameTemplate<span class="token punctuation" >:</span> 'webpack<span class="token punctuation" >:</span><span class="token operator" >/</span><span class="token comment" spellcheck="true">//[resource-path]?[loaders]'</span>
  <span class="token punctuation" >}</span><span class="token punctuation" >,</span>
<span class="token punctuation" >}</span>
</code></pre>
<blockquote class="tip"><i class="icon-attention-circled"></i>The <a href="https://webpack.js.org/configuration/output/#output-sourcemapfilename">official documentation</a> digs into <code>output</code> specifics.</blockquote><blockquote class="warning"><i class="icon-attention"></i>If you are using any <code>UglifyJsPlugin</code> and want sourcemaps, you need to enable <code>sourceMap: true</code> for the plugin. Otherwise, the result won&#39;t be what you might expect.</blockquote><h2 class="header"><a class="header-anchor" href="#sourcemapdevtoolplugin" id="sourcemapdevtoolplugin"></a><span class="text">SourceMapDevToolPlugin</span><a class="header-anchor-select" href="#sourcemapdevtoolplugin">#</a></h2>
<p>If you want more control over sourcemap generation, it is possible to use the <code>SourceMapDevToolPlugin</code> instead. This way you can generate sourcemaps only for the portions of the code you want while having strict control over the result. In case you use the plugin, you can skip <code>devtool</code> option altogether.</p>
<p>You could model a configuration part for the plugin like this (adapted from <a href="https://webpack.github.io/docs/list-of-plugins.html#sourcemapdevtoolplugin">the official documentation</a>):</p>
<pre><code class="lang-javascript">exports<span class="token punctuation" >.</span>generateSourcemaps <span class="token operator" >=</span> <span class="token keyword" >function</span><span class="token punctuation" >(</span>options<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
  <span class="token keyword" >const</span> test <span class="token operator" >=</span> options<span class="token punctuation" >.</span>test<span class="token punctuation" >;</span>
  <span class="token keyword" >const</span> include <span class="token operator" >=</span> options<span class="token punctuation" >.</span>include<span class="token punctuation" >;</span>
  <span class="token keyword" >const</span> separateSourcemaps <span class="token operator" >=</span> options<span class="token punctuation" >.</span>separateSourcemaps<span class="token punctuation" >;</span>
  <span class="token keyword" >const</span> columnMappings <span class="token operator" >=</span> options<span class="token punctuation" >.</span>columnMappings<span class="token punctuation" >;</span>

  <span class="token comment" spellcheck="true">// Enable functionality as you want to expose it</span>
  <span class="token keyword" >return</span> <span class="token punctuation" >{</span>
    plugins<span class="token punctuation" >:</span> <span class="token punctuation" >[</span>
      <span class="token keyword" >new</span> <span class="token class-name" >webpack<span class="token punctuation" >.</span>SourceMapDevToolPlugin</span><span class="token punctuation" >(</span><span class="token punctuation" >{</span>
        <span class="token comment" spellcheck="true">// Match assets just like for loaders.</span>
        test<span class="token punctuation" >:</span> test<span class="token punctuation" >,</span> <span class="token comment" spellcheck="true">// string | RegExp | Array,</span>
        include<span class="token punctuation" >:</span> include<span class="token punctuation" >,</span> <span class="token comment" spellcheck="true">// string | RegExp | Array,</span>

        <span class="token comment" spellcheck="true">// `exclude` matches file names, not package names!</span>
        <span class="token comment" spellcheck="true">// exclude: string | RegExp | Array,</span>

        <span class="token comment" spellcheck="true">// If filename is set, output to this file.</span>
        <span class="token comment" spellcheck="true">// See `sourceMapFileName`.</span>
        <span class="token comment" spellcheck="true">// filename: string,</span>

        <span class="token comment" spellcheck="true">// This line is appended to the original asset processed.</span>
        <span class="token comment" spellcheck="true">// For instance '[url]' would get replaced with an url</span>
        <span class="token comment" spellcheck="true">// to the sourcemap.</span>
        <span class="token comment" spellcheck="true">// append: false | string,</span>

        <span class="token comment" spellcheck="true">// See `devtoolModuleFilenameTemplate` for specifics.</span>
        <span class="token comment" spellcheck="true">// moduleFilenameTemplate: string,</span>
        <span class="token comment" spellcheck="true">// fallbackModuleFilenameTemplate: string,</span>

        <span class="token comment" spellcheck="true">// If false, separate sourcemaps aren't generated.</span>
        module<span class="token punctuation" >:</span> separateSourcemaps<span class="token punctuation" >,</span>

        <span class="token comment" spellcheck="true">// If false, column mappings are ignored.</span>
        columns<span class="token punctuation" >:</span> columnMappings<span class="token punctuation" >,</span>

        <span class="token comment" spellcheck="true">// Use simpler line to line mappings for the matched modules.</span>
        <span class="token comment" spellcheck="true">// lineToLine: bool | {test, include, exclude},</span>

        <span class="token comment" spellcheck="true">// Remove source content from sourcemaps. This is useful</span>
        <span class="token comment" spellcheck="true">// especially if your sourcemaps are very big (over 10 MB)</span>
        <span class="token comment" spellcheck="true">// as browsers can struggle with those.</span>
        <span class="token comment" spellcheck="true">// See https://github.com/webpack/webpack/issues/2669.</span>
        <span class="token comment" spellcheck="true">// noSources: bool,</span>
      <span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >,</span>
    <span class="token punctuation" >]</span><span class="token punctuation" >,</span>
  <span class="token punctuation" >}</span><span class="token punctuation" >;</span>
<span class="token punctuation" >}</span><span class="token punctuation" >;</span>
</code></pre>
<p>Given webpack matches only <code>.js</code> and <code>.css</code> files by default for sourcemaps, you can use <code>SourceMapDevToolPlugin</code> to overcome this issue. This can be achieved by passing a <code>test</code> pattern like <code>/\.(js|jsx|css)($|\?)/i</code>.</p>
<h2 class="header"><a class="header-anchor" href="#using-dependency-sourcemaps" id="using-dependency-sourcemaps"></a><span class="text">Using Dependency Sourcemaps</span><a class="header-anchor-select" href="#using-dependency-sourcemaps">#</a></h2>
<p>Assuming you are using a package that uses inline sourcemaps in its distribution, you can use <a href="https://www.npmjs.com/package/source-map-loader">source-map-loader</a> to make webpack aware of them. Without setting it up against the package, you will get minified debug output. This is a special case, though, and often you can skip this step.</p>
<h2 class="header"><a class="header-anchor" href="#sourcemaps-for-styling" id="sourcemaps-for-styling"></a><span class="text">Sourcemaps for Styling</span><a class="header-anchor-select" href="#sourcemaps-for-styling">#</a></h2>
<p>If you want to enable sourcemaps for styling files, you can achieve this by enabling the <code>sourceMap</code> option. This works with style loaders such as <em>css-loader</em>, <em>sass-loader</em>, and <em>less-loader</em>.</p>
<p>This isn&#39;t without gotchas. The <em>css-loader</em> documentation notes that relative paths within CSS declarations are known to be buggy and suggests using setting an absolute public path (<code>output.publicPath</code>) resolving to the server url.</p>
<h2 class="header"><a class="header-anchor" href="#conclusion" id="conclusion"></a><span class="text">Conclusion</span><a class="header-anchor-select" href="#conclusion">#</a></h2>
<p>Sourcemaps can be convenient during development. They provide us with better means to debug our applications as we can still examine the original code over a generated one. They can be useful even for production usage and allow you to debug issues while serving a client-friendly version of your application.</p>
</div><div class="social-links"><blockquote class="tip">If you enjoyed this chapter, consider subscribing to the mailing list below or following <a href="https://twitter.com/survivejs">@survivejs</a> for occasional updates. There is also <a href="/atom.xml">RSS</a> available for old beards (no pun intended).</blockquote><h2 class="subscribe-header">Subscribe to the mailing list</h2><form action="//jster.us7.list-manage.com/subscribe/post?u=ed40c0084a0c5ba31b3365d65&amp;id=b853b8e786" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate social-form" target="_blank" novalidate=""><div id="mc_embed_signup_scroll"><div class="mc-field-group social-input-container"><input type="email" placeholder="Email" value="" name="EMAIL" class="required email" id="mce-EMAIL"/></div><div style="display:none;position:absolute;left:-5000px;"><input type="text" name="b_ed40c0084a0c5ba31b3365d65_b853b8e786" tabindex="-1" value=""/></div><div class="social-subscribe-container"><input type="submit" class="btn button social-subscribe" style="margin-top:1em;margin-bottom:1em;line-height:2em;" value="Subscribe" name="subscribe" id="mc-embedded-subscribe"/></div></div></form></div><div class="new-prevnext"><div class="new-prevnext__prev"><div class="new-prevnext__bg" style="background-image:url(/assets/img/chapters/machine.jpg);"></div><span class="new-prevnext__info">Previous chapter</span><a class="new-prevnext__link" href="/webpack/building-with-webpack">Building with Webpack</a></div><div class="new-prevnext__next"><div class="new-prevnext__bg" style="background-image:url(/assets/img/chapters/bundle.jpg);"></div><span class="new-prevnext__info">Next chapter</span><a class="new-prevnext__link" href="/webpack/building-with-webpack/splitting-bundles">Splitting Bundles</a></div></div><blockquote class="tip"><p>This book is <a href="https://leanpub.com/survivejs-webpack">available through Leanpub</a>. By purchasing the book you support the development of further content. A part of profit (~30%) goes to Tobias Koppers, the author of Webpack.</p></blockquote><div id="disqus_thread"></div></div></div><div><a class="next-page" title="Splitting Bundles" href="/webpack/building-with-webpack/splitting-bundles"><i class="icon-right-open"></i></a><a class="previous-page" title="Building with Webpack" href="/webpack/building-with-webpack"><i class="icon-left-open"></i></a></div><script type="text/javascript">var disqus_shortname = 'survivejs';(function() {var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);})();</script></div><div class="nav__wrapper"><input type="checkbox" class="nav__toggle" id="nav__toggle"/><label class="nav__toggle-label" for="nav__toggle"></label><nav class="nav"><div class="nav__link"><a class="" href="/">Home</a></div><div class="nav__link"><a class="" href="/blog">Read the blog</a></div><div class="nav__link"><a class="" href="https://leanpub.com/survivejs-webpack">Buy the ebook</a></div><div class="nav__link"><a class="" href=""></a></div><div class="nav__link"><a class="" href="https://twitter.com/survivejs">@survivejs</a></div></nav></div><a href="https://github.com/survivejs/webpack" class="github-corner"><svg width="80" height="80" viewBox="0 0 250 250" style="position:absolute;top:0;fill:#000;right:0;"><path class="octo-banner" d="M0 0l115 115h15l12 27 108 108V0z" fill="#fff"></path><path class="octo-arm" d="M128 109c-15-9-9-19-9-19 3-7 2-11 2-11-1-7 3-2 3-2 4 5 2 11 2 11-3 10 5 15 9 16" style="-webkit-transform-origin:130px 106px;transform-origin:130px 106px;"></path><path class="octo-body" d="M115 115s4 2 5 0l14-14c3-2 6-3 8-3-8-11-15-24 2-41 5-5 10-7 16-7 1-2 3-7 12-11 0 0 5 3 7 16 4 2 8 5 12 9s7 8 9 12c14 3 17 7 17 7-4 8-9 11-11 11 0 6-2 11-7 16-16 16-30 10-41 2 0 3-1 7-5 11l-12 11c-1 1 1 5 1 5z"></path></svg></a><footer><div class="footer-wrapper"><div class="footer-content-wrapper"><div class="footer-social"><h3>Social</h3><ul><li><a href="https://twitter.com/survivejs" target="_blank">@survivejs</a></li><li><a href="http://eepurl.com/bth1v5" target="_blank">Mailing List</a></li><li><a href="https://gitter.im/survivejs" target="_blank">Gitter Chat</a></li><li><a href="https://github.com/survivejs" target="_blank">GitHub</a></li><li><a href="/atom.xml" target="_blank">Blog RSS</a></li><li><a href="http://goo.gl/forms/OWdGIOdHm9" target="_blank">Contact</a></li><li><a href="https://github.com/survivejs/ama/issues" target="_blank">Ask Me Anything</a></li></ul></div><div class="footer-blog"><h3>From the Blog</h3><ul class="blog-teasers"><li><a class="blog-teaser" href="/blog/survivejs-webpack-160">SurviveJS - Webpack - v1.6.0</a></li><li><a class="blog-teaser" href="/blog/isomorphic-webpack-interview">isomorphic-webpack - Universal module consumption using webpack - Interview with Gajus Kuizinas</a></li><li><a class="blog-teaser" href="/blog/survivejs-webpack-150">SurviveJS - Webpack - v1.5.0</a></li><li><a class="blog-teaser" href="/blog/styletron-interview">Styletron - Universal, high-performance JavaScript styles - Interview with Ryan Tsao</a></li><li><a class="blog-teaser" href="/blog/survivejs-webpack-142">SurviveJS - Webpack - v1.4.2</a></li><li><a class="blog-teaser" href="/blog/inferno-interview">Inferno - Blazing fast, React-like UI library - Interview with Dominic Gannaway</a></li><li><a class="blog-teaser" href="/blog/svelte-interview">Svelte - The magical disappearing UI framework - Interview with Rich Harris</a></li><li><a class="blog-teaser" href="/blog/webpack-merge-interview">webpack-merge - Taming Webpack Configuration - Interview with Juho Vepsäläinen</a></li><li><a class="blog-teaser" href="/blog/starratio-interview">StarRatio - Compare JavaScript Projects - Interview with Dmitry Zaets</a></li><li><a class="blog-teaser" href="/blog/redom-interview">RE:DOM - Tiny but Super Fast DOM Library - Interview with Juha Lindstedt</a></li></ul></div></div></div></footer><div><div class="gitter-open-chat-button">Need help?</div><script type="text/javascript">
            ((window.gitter = {}).chat = {}).options = {
              showChatByDefault: false,
              activationElement: '.gitter-open-chat-button',
              room: 'survivejs/webpack'
            };
          </script><script src="https://sidecar.gitter.im/dist/sidecar.v1.js" async="" defer=""></script></div><div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script><script type="text/javascript">
            docsearch({
              apiKey: '1182e3806d62e921613b8dc9c7a22ef3',
              indexName: 'survivejs_webpack',
              inputSelector: '#search',
              debug: false
            });
          </script></div></main></body></html>