<html lang="en"><head><title>SurviveJS - Loading Styles</title><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimal-ui"/><meta name="description" content="
Webpack doesn&#x27;t handle styling out of the box. Instead, you must configure loaders and plugins to get the setup you need.

In this chapter we&#x27;ll set up CSS with our project and see how it works out with automatic browser refreshing. The neat thing is that in this case webpack doesn&#x27;t have to force …"/><meta name="keywords" content="webpack,react,javascript,programming,web development"/><link rel="icon" type="image/png" href="/assets/img/favicon.png"/><link rel="alternate" type="application/atom+xml" href="/atom.xml"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css"/><link rel="stylesheet" href="/assets/main.css"/></head><body><main role="main"><div class="chapter__wrapper"><div class="header-image" style="background-image:url(/assets/img/chapters/refresh.jpg);"></div><h1 class="post__heading">Loading Styles</h1><div class="header-extra">Public Domain</div><div class="toc-nav__wrapper"><h4 class="search-nav--header">Search</h4><input id="search"/><h4 class="toc-nav--header">Table of Contents</h4><ul class="toc-nav"><li class="toc-intro"><a class="toc-nav__link intro" href="/webpack/introduction">Introduction</a></li><li class="toc-intro"><a class="toc-nav__link intro" href="/webpack/webpack-compared">Webpack Compared</a></li><li class="toc-intro"><a class="toc-nav__link intro" href="/webpack/why-webpack">Why Webpack?</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/developing-with-webpack">Developing with Webpack</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/developing-with-webpack/getting-started">Getting Started</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/developing-with-webpack/splitting-configuration">Splitting the Configuration</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/developing-with-webpack/automatic-browser-refresh">Automatic Browser Refresh</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/developing-with-webpack/configuring-hmr">Configuring Hot Module Replacement</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/developing-with-webpack/linting">Linting JavaScript</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/handling-styles">Handling Styles with Webpack</a></li><li class="toc-chapter"><span class="toc-nav__link toc-nav__link--current chapter">Loading Styles</span></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/handling-styles/separating-css">Separating CSS</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/handling-styles/eliminating-unused-css">Eliminating Unused CSS</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/handling-styles/linting">Linting CSS</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/understanding-loaders">Understanding Loaders</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/understanding-loaders/loader-definitions">Loader Definitions</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/understanding-loaders/loading-images">Loading Images</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/understanding-loaders/loading-fonts">Loading Fonts</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/understanding-loaders/writing-loaders">Writing Loaders</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/building-with-webpack">Building with Webpack</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/building-with-webpack/enabling-sourcemaps">Enabling Sourcemaps</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/building-with-webpack/splitting-bundles">Splitting Bundles</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/building-with-webpack/code-splitting">Code Splitting</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/building-with-webpack/processing-with-babel">Processing with Babel</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/building-with-webpack/cleaning-build">Cleaning the Build</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/building-with-webpack/hosting-on-github-pages">Hosting on GitHub Pages</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/optimizing-build">Optimizing Build</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/optimizing-build/minifying">Minifying the Build</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/optimizing-build/setting-environment-variables">Setting Environment Variables</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/optimizing-build/adding-hashes-to-filenames">Adding Hashes to Filenames</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/optimizing-build/analyzing-build-statistics">Analyzing Build Statistics</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/advanced-techniques">Advanced Techniques</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/advanced-techniques/consuming-packages">Consuming Packages</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/advanced-techniques/authoring-packages">Authoring Packages</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/advanced-techniques/configuring-react">Configuring React</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/appendices">Appendices</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/appendices/searching-with-react">Searching with React</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/appendices/configuring-hmr-with-react">Configuring Hot Module Replacement with React</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/appendices/writing-eslint-plugins">Writing ESLint Plugins</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/appendices/customizing-eslint">Customizing ESLint</a></li></ul><div><div class="buy-container"><a href="/webpack/introduction"><img class="sidebar-cover" src="/assets/img/webpack_title_page_small.png" width="255" height="329"/></a><p><a class="btn btn--normal btn--buy" href="https://leanpub.com/survivejs-webpack">Buy at Leanpub</a></p></div><h3>See also</h3><div class="buy-container"><a href="/react/introduction"><img class="sidebar-cover" src="/assets/img/react_title_page_small.png" width="255" height="329"/></a><p><a class="btn btn--normal btn--buy" href="https://leanpub.com/survivejs-react">Buy at Leanpub</a></p></div></div></div><div class="chapter"><div class="post__content"><blockquote class="latestpost tip"><div>From the blog:</div><a class="latestpost-link" href="/blog/isomorphic-webpack-interview">isomorphic-webpack - Universal module consumption using webpack - Interview with Gajus Kuizinas</a></blockquote><div class="chapter-content"><p>Webpack doesn&#39;t handle styling out of the box. Instead, you must configure loaders and plugins to get the setup you need.</p>
<p>In this chapter we&#39;ll set up CSS with our project and see how it works out with automatic browser refreshing. The neat thing is that in this case webpack doesn&#39;t have to force a full refresh. Instead, it can do something smarter as we&#39;ll see soon.</p>
<h2 class="header"><a class="header-anchor" href="#loading-css" id="loading-css"></a><span class="text">Loading CSS</span><a class="header-anchor-select" href="#loading-css">#</a></h2>
<p>To load CSS, we&#39;ll need to use <a href="https://www.npmjs.com/package/css-loader">css-loader</a> and <a href="https://www.npmjs.com/package/style-loader">style-loader</a>. <em>css-loader</em> goes through possible <code>@import</code> and <code>url()</code> lookups within the matched files and treats them as a regular <code>require</code>.</p>
<p>This process allows us to rely on various other loaders, such as <a href="https://www.npmjs.com/package/file-loader">file-loader</a> or <a href="https://www.npmjs.com/package/url-loader">url-loader</a>. If an <code>@import</code> points to an external resource, <em>css-loader</em> will skip it. Only internal resources get processed further by webpack.</p>
<p>After <em>css-loader</em> has done its part, <em>style-loader</em> picks up the output and injects the CSS into the resulting bundle. This will be inlined JavaScript by default and it implements the HMR interface. As inlining isn&#39;t a good idea for production usage, it makes sense to use <code>ExtractTextPlugin</code> to generate a separate CSS file. We&#39;ll do this in the next chapter.</p>
<p>To get started, invoke</p>
<pre><code class="lang-bash">npm i css-loader style-loader --save-dev
</code></pre>
<p>Now let&#39;s make sure webpack is aware of them. Configure as follows:</p>
<p><strong>webpack.parts.js</strong></p>
<pre><code class="lang-javascript"><span class="token punctuation" >.</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span>

<div class="leanpub-insert">
exports<span class="token punctuation" >.</span>loadCSS <span class="token operator" >=</span> <span class="token keyword" >function</span><span class="token punctuation" >(</span>paths<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
  <span class="token keyword" >return</span> <span class="token punctuation" >{</span>
    module<span class="token punctuation" >:</span> <span class="token punctuation" >{</span>
      rules<span class="token punctuation" >:</span> <span class="token punctuation" >[</span>
        <span class="token punctuation" >{</span>
          test<span class="token punctuation" >:</span> <span class="token regex" >/\.css$/</span><span class="token punctuation" >,</span>
          <span class="token comment" spellcheck="true">// Restrict extraction process to the given</span>
          <span class="token comment" spellcheck="true">// paths.</span>
          include<span class="token punctuation" >:</span> paths<span class="token punctuation" >,</span>

          use<span class="token punctuation" >:</span> <span class="token punctuation" >[</span><span class="token string" >'style-loader'</span><span class="token punctuation" >,</span> <span class="token string" >'css-loader'</span><span class="token punctuation" >]</span>
        <span class="token punctuation" >}</span>
      <span class="token punctuation" >]</span>
    <span class="token punctuation" >}</span>
  <span class="token punctuation" >}</span><span class="token punctuation" >;</span>
<span class="token punctuation" >}</span><span class="token punctuation" >;</span>
</div>
</code></pre>
<p>We also need to connect our configuration fragment with the main configuration:</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="lang-javascript"><span class="token punctuation" >.</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span>

module<span class="token punctuation" >.</span>exports <span class="token operator" >=</span> <span class="token keyword" >function</span><span class="token punctuation" >(</span>env<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
  <span class="token keyword" >return</span> <span class="token function" >merge</span><span class="token punctuation" >(</span>
    common<span class="token punctuation" >,</span>
    <span class="token punctuation" >{</span>
      <span class="token comment" spellcheck="true">// Disable performance hints during development</span>
      performance<span class="token punctuation" >:</span> <span class="token punctuation" >{</span>
        hints<span class="token punctuation" >:</span> <span class="token boolean" >false</span>
      <span class="token punctuation" >}</span><span class="token punctuation" >,</span>
      plugins<span class="token punctuation" >:</span> <span class="token punctuation" >[</span>
        <span class="token keyword" >new</span> <span class="token class-name" >webpack<span class="token punctuation" >.</span>NamedModulesPlugin</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span>
      <span class="token punctuation" >]</span>
    <span class="token punctuation" >}</span><span class="token punctuation" >,</span>
<div class="leanpub-insert">
    parts<span class="token punctuation" >.</span><span class="token function" >loadCSS</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span><span class="token punctuation" >,</span>
</div>
    parts<span class="token punctuation" >.</span><span class="token function" >devServer</span><span class="token punctuation" >(</span><span class="token punctuation" >{</span>
      <span class="token comment" spellcheck="true">// Customize host/port here if needed</span>
      host<span class="token punctuation" >:</span> process<span class="token punctuation" >.</span>env<span class="token punctuation" >.</span>HOST<span class="token punctuation" >,</span>
      port<span class="token punctuation" >:</span> process<span class="token punctuation" >.</span>env<span class="token punctuation" >.</span>PORT
    <span class="token punctuation" >}</span><span class="token punctuation" >)</span>
  <span class="token punctuation" >)</span><span class="token punctuation" >;</span>
<span class="token punctuation" >}</span><span class="token punctuation" >;</span>
</code></pre>
<p>The configuration we added means that files ending with <code>.css</code> should invoke given loaders. <code>test</code> matches against a JavaScript style regular expression. The loaders are evaluated from right to left.</p>
<blockquote class="tip"><i class="icon-attention-circled"></i>Loaders are transformations that are applied to source files, and return the new source. Loaders can be chained together, like using a pipe in Unix. <code>loaders: [&#39;style-loader&#39;, &#39;css-loader&#39;]</code> can be read as <code>styleLoader(cssLoader(input))</code>.</blockquote><h2 class="header"><a class="header-anchor" href="#setting-up-the-initial-css" id="setting-up-the-initial-css"></a><span class="text">Setting Up the Initial CSS</span><a class="header-anchor-select" href="#setting-up-the-initial-css">#</a></h2>
<p>We are missing just one bit, the actual CSS itself:</p>
<p><strong>app/main.css</strong></p>
<pre><code class="lang-css"><span class="token selector" >body </span><span class="token punctuation" >{</span>
  <span class="token property" >background</span><span class="token punctuation" >:</span> cornsilk<span class="token punctuation" >;</span>
<span class="token punctuation" >}</span>
</code></pre>
<p>Also, we&#39;ll need to make webpack aware of it. Without having an entry pointing at it somehow, webpack won&#39;t be able to find the file:</p>
<p><strong>app/index.js</strong></p>
<pre><code class="lang-javascript"><div class="leanpub-insert">
<span class="token keyword" >import</span> <span class="token string" >'./main.css'</span><span class="token punctuation" >;</span>
</div>
<span class="token keyword" >import</span> component <span class="token keyword" >from</span> <span class="token string" >'./component'</span><span class="token punctuation" >;</span>

<span class="token punctuation" >.</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span>
</code></pre>
<p>Execute <code>npm start</code> now. Browse to <strong>localhost:8080</strong> if you are using the default port and open up <em>main.css</em> and change the background color to something like <code>lime</code> (<code>background: lime</code>). Develop styles as needed to make it look a little nicer. Note that it does <strong>not</strong> perform a hard refresh on the browser since we have HMR setup in place.</p>
<p>We&#39;ll continue from here in the next chapter. Before that, though, I will discuss several styling related techniques you may find useful. If you want, integrate some of them to your project.</p>
<p><img src="/webpack/images/hello_02.png" alt="Hello cornsilk world"></p>
<blockquote class="tip"><i class="icon-attention-circled"></i>An alternative way to load CSS would be to define a separate entry and point to the CSS there. Coupling styling to application code can be a nice way to handle it, though, as then you can see which styling is related to what file. This also enables the usage of CSS Modules with a bit of extra effort.</blockquote><h2 class="header"><a class="header-anchor" href="#understanding-css-scoping-and-css-modules" id="understanding-css-scoping-and-css-modules"></a><span class="text">Understanding CSS Scoping and CSS Modules</span><a class="header-anchor-select" href="#understanding-css-scoping-and-css-modules">#</a></h2>
<p>Perhaps the biggest challenge of CSS is that all rules exist within <strong>global scope</strong>. This has lead to specific conventions that work around this feature. A specification known as <a href="https://github.com/css-modules/css-modules">CSS Modules</a> solves the problem by introducing <strong>local scope</strong> per <code>import</code>. As it happens, this makes CSS more bearable to use as you don&#39;t have to worry about namespace collisions anymore.</p>
<p>Enabling CSS Modules in webpack is simple as <em>css-loader</em> supports the feature. You can enable it through <code>css-loader?modules</code> or set <code>modules</code> field <code>true</code> through the loader <code>options</code>.</p>
<p>After this change your class definitions will remain local to the files. In case you want global class definitions, you&#39;ll need to wrap them within <code>:global(.redButton) { ... }</code> kind of declarations.</p>
<p>In this case the <code>import</code> statement will give you the local classes you can then bind to elements. Assuming we had styling like this:</p>
<p><strong>app/main.css</strong></p>
<pre><code class="lang-css"><span class="token selector" >body </span><span class="token punctuation" >{</span>
  <span class="token property" >background</span><span class="token punctuation" >:</span> cornsilk<span class="token punctuation" >;</span>
<span class="token punctuation" >}</span>

<span class="token selector" ><span class="token class" >.redButton</span> </span><span class="token punctuation" >{</span>
  <span class="token property" >background</span><span class="token punctuation" >:</span> red<span class="token punctuation" >;</span>
<span class="token punctuation" >}</span>
</code></pre>
<p>We could then bind the resulting class to a component like this:</p>
<p><strong>app/component.js</strong></p>
<pre><code class="lang-javascript"><span class="token keyword" >import</span> styles <span class="token keyword" >from</span> <span class="token string" >'./main.css'</span><span class="token punctuation" >;</span>

<span class="token punctuation" >.</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span>

<span class="token comment" spellcheck="true">// Attach the generated class name</span>
element<span class="token punctuation" >.</span>className <span class="token operator" >=</span> styles<span class="token punctuation" >.</span>redButton<span class="token punctuation" >;</span>
</code></pre>
<p>Note that <code>body</code> remains as a global declaration still. It&#39;s that <code>redButton</code> that makes the difference. You can build component specific styles that don&#39;t leak elsewhere this way.</p>
<p>CSS Modules provides also features like composition to make it even easier to work with your styles. You can also combine it with other loaders as long as you apply them before <em>css-loader</em>.</p>
<blockquote class="tip"><i class="icon-attention-circled"></i>The query syntax, <code>css-loader?modules</code>, and its alternatives is discussed in greater detail in the <em>Loader Definitions</em> chapter. There are multiple ways to achieve the same effect in webpack some of which are clearer than others.</blockquote><blockquote class="tip"><i class="icon-attention-circled"></i>CSS Modules behavior can be modified <a href="https://www.npmjs.com/package/css-loader#local-scope">as discussed in the official documentation</a>. You have control over the names it generates for instance.</blockquote><h2 class="header"><a class="header-anchor" href="#loading-less" id="loading-less"></a><span class="text">Loading LESS</span><a class="header-anchor-select" href="#loading-less">#</a></h2>
<p><img src="/webpack/images/less.png" alt="LESS"></p>
<p><a href="http://lesscss.org/">LESS</a> is a CSS processor that is packed with functionality. Using LESS doesn&#39;t take a lot of effort through webpack as <a href="https://www.npmjs.com/package/less-loader">less-loader</a> deals with the heavy lifting. You should install <a href="https://www.npmjs.com/package/less">less</a> as well given it&#39;s a peer dependency of <em>less-loader</em>.</p>
<p>Consider the following minimal setup:</p>
<pre><code class="lang-javascript"><span class="token punctuation" >{</span>
  test<span class="token punctuation" >:</span> <span class="token regex" >/\.less$/</span><span class="token punctuation" >,</span>
  use<span class="token punctuation" >:</span> <span class="token punctuation" >[</span><span class="token string" >'style-loader'</span><span class="token punctuation" >,</span> <span class="token string" >'css-loader'</span><span class="token punctuation" >,</span> <span class="token string" >'less-loader'</span><span class="token punctuation" >]</span>
<span class="token punctuation" >}</span>
</code></pre>
<p>There is also support for Less plugins, sourcemaps, and so on. To understand how those work you should check out the project itself.</p>
<h2 class="header"><a class="header-anchor" href="#loading-sass" id="loading-sass"></a><span class="text">Loading SASS</span><a class="header-anchor-select" href="#loading-sass">#</a></h2>
<p><img src="/webpack/images/sass.png" alt="SASS"></p>
<p><a href="http://sass-lang.com/">SASS</a> is a widely used CSS preprocessor. You should use <a href="https://www.npmjs.com/package/sass-loader">sass-loader</a> with it. Remember to install <a href="https://www.npmjs.com/package/node-sass">node-sass</a> to your project as it&#39;s a peer dependency.</p>
<p>Webpack doesn&#39;t take much configuration:</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="lang-javascript"><span class="token punctuation" >{</span>
  test<span class="token punctuation" >:</span> <span class="token regex" >/\.scss$/</span><span class="token punctuation" >,</span>
  use<span class="token punctuation" >:</span> <span class="token punctuation" >[</span><span class="token string" >'style-loader'</span><span class="token punctuation" >,</span> <span class="token string" >'css-loader'</span><span class="token punctuation" >,</span> <span class="token string" >'sass-loader'</span><span class="token punctuation" >]</span>
<span class="token punctuation" >}</span>
</code></pre>
<blockquote class="tip"><i class="icon-attention-circled"></i>If you want more performance especially during development, check out <a href="https://www.npmjs.com/package/fast-sass-loader">fast-sass-loader</a>.</blockquote><h2 class="header"><a class="header-anchor" href="#loading-stylus-and-yeticss" id="loading-stylus-and-yeticss"></a><span class="text">Loading Stylus and YETICSS</span><a class="header-anchor-select" href="#loading-stylus-and-yeticss">#</a></h2>
<p><img src="/webpack/images/stylus.png" alt="Stylus"></p>
<p><a href="http://stylus-lang.com/">Stylus</a> is yet another example of a CSS processor. It works well through <a href="https://github.com/shama/stylus-loader">stylus-loader</a>. There&#39;s also a pattern library known as <a href="https://www.npmjs.com/package/yeticss">yeticss</a> that works well with it. Consider the following configuration:</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="lang-javascript"><span class="token keyword" >const</span> common <span class="token operator" >=</span> <span class="token punctuation" >{</span>
  <span class="token punctuation" >.</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span>
  module<span class="token punctuation" >:</span> <span class="token punctuation" >{</span>
    rules<span class="token punctuation" >:</span> <span class="token punctuation" >[</span>
      <span class="token punctuation" >{</span>
        test<span class="token punctuation" >:</span> <span class="token regex" >/\.styl$/</span><span class="token punctuation" >,</span>
        use<span class="token punctuation" >:</span> <span class="token punctuation" >[</span><span class="token string" >'style-loader'</span><span class="token punctuation" >,</span> <span class="token string" >'css-loader'</span><span class="token punctuation" >,</span> <span class="token string" >'stylus-loader'</span><span class="token punctuation" >]</span>
      <span class="token punctuation" >}</span>
    <span class="token punctuation" >]</span>
  <span class="token punctuation" >}</span><span class="token punctuation" >,</span>
  plugins<span class="token punctuation" >:</span> <span class="token punctuation" >[</span>
    <span class="token keyword" >new</span> <span class="token class-name" >webpack<span class="token punctuation" >.</span>LoaderOptionsPlugin</span><span class="token punctuation" >(</span><span class="token punctuation" >{</span>
      options<span class="token punctuation" >:</span> <span class="token punctuation" >{</span>
        <span class="token comment" spellcheck="true">// yeticss</span>
        stylus<span class="token punctuation" >:</span> <span class="token punctuation" >{</span>
          use<span class="token punctuation" >:</span> <span class="token punctuation" >[</span><span class="token function" >require</span><span class="token punctuation" >(</span><span class="token string" >'yeticss'</span><span class="token punctuation" >)</span><span class="token punctuation" >]</span>
        <span class="token punctuation" >}</span>
      <span class="token punctuation" >}</span>
    <span class="token punctuation" >}</span><span class="token punctuation" >)</span>
  <span class="token punctuation" >]</span>
<span class="token punctuation" >}</span><span class="token punctuation" >;</span>
</code></pre>
<p>To start using yeticss with Stylus, you must import it to one of your app&#39;s .styl files:</p>
<pre><code class="lang-javascript">@<span class="token keyword" >import</span> <span class="token string" >'yeticss'</span>

<span class="token comment" spellcheck="true">//or</span>
@<span class="token keyword" >import</span> <span class="token string" >'yeticss/components/type'</span>
</code></pre>
<h2 class="header"><a class="header-anchor" href="#postcss" id="postcss"></a><span class="text">PostCSS</span><a class="header-anchor-select" href="#postcss">#</a></h2>
<p><img src="/webpack/images/postcss.png" alt="PostCSS"></p>
<p><a href="http://postcss.org/">PostCSS</a> allows you to perform transformations over CSS through JavaScript plugins. You can even find plugins that provide you Sass-like features. PostCSS can be thought as the equivalent of Babel for styling. It can be used through <a href="https://www.npmjs.com/package/postcss-loader">postcss-loader</a> with webpack.</p>
<p>The example below illustrates how to set up autoprefixing using it. It also sets up <a href="https://www.npmjs.com/package/precss">precss</a>, a PostCSS plugin that allows you to use Sass-like markup in your CSS. You can mix this technique with other loaders to allow autoprefixing there.</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="lang-javascript">module<span class="token punctuation" >.</span>exports <span class="token operator" >=</span> <span class="token punctuation" >{</span>
  module<span class="token punctuation" >:</span> <span class="token punctuation" >{</span>
    rules<span class="token punctuation" >:</span> <span class="token punctuation" >[</span>
      <span class="token punctuation" >{</span>
        test<span class="token punctuation" >:</span> <span class="token regex" >/\.css$/</span><span class="token punctuation" >,</span>
        use<span class="token punctuation" >:</span> <span class="token punctuation" >[</span><span class="token string" >'style-loader'</span><span class="token punctuation" >,</span> <span class="token string" >'css-loader'</span><span class="token punctuation" >,</span> <span class="token string" >'postcss-loader'</span><span class="token punctuation" >]</span>
      <span class="token punctuation" >}</span>
    <span class="token punctuation" >]</span>
  <span class="token punctuation" >}</span>
<span class="token punctuation" >}</span><span class="token punctuation" >;</span>
</code></pre>
<p>In addition to webpack configuration, we need to set up some for PostCSS:</p>
<p><strong>postcss.config.js</strong></p>
<pre><code class="lang-javascript">module<span class="token punctuation" >.</span>exports <span class="token operator" >=</span> <span class="token punctuation" >{</span>
  plugins<span class="token punctuation" >:</span> <span class="token punctuation" >{</span>
    autoprefixer<span class="token punctuation" >:</span> <span class="token punctuation" >{</span><span class="token punctuation" >}</span><span class="token punctuation" >,</span>
    precss<span class="token punctuation" >:</span> <span class="token punctuation" >{</span><span class="token punctuation" >}</span>
  <span class="token punctuation" >}</span>
<span class="token punctuation" >}</span><span class="token punctuation" >;</span>
</code></pre>
<p>For this to work, you will have to remember to include <a href="https://www.npmjs.com/package/autoprefixer">autoprefixer</a> and <a href="https://www.npmjs.com/package/precss">precss</a> to your project.</p>
<blockquote class="tip"><i class="icon-attention-circled"></i><em>postcss-loader</em> relies on <a href="https://www.npmjs.com/package/cosmiconfig">cosmiconfig</a> internally. This means it can pick up configuration from your <em>package.json</em>, JSON or YAML, or that you can even push your configuration below an arbitrary directory. <em>cosmiconfig</em> will find it.</blockquote><h3 class="header"><a class="header-anchor" href="#cssnext" id="cssnext"></a><span class="text">cssnext</span><a class="header-anchor-select" href="#cssnext">#</a></h3>
<p><img src="/webpack/images/cssnext.jpg" alt="cssnext"></p>
<p><a href="http://cssnext.io/">cssnext</a> is a PostCSS plugin that allows us to experience the future now. There are some restrictions, but it may be worth a go. You can use it through <a href="https://www.npmjs.com/package/postcss-cssnext">postcss-cssnext</a> and you can enable it as follows.</p>
<p><strong>postcss.config.js</strong></p>
<pre><code class="lang-javascript">module<span class="token punctuation" >.</span>exports <span class="token operator" >=</span> <span class="token punctuation" >{</span>
  plugins<span class="token punctuation" >:</span> <span class="token punctuation" >{</span>
    cssnext<span class="token punctuation" >:</span> <span class="token punctuation" >{</span><span class="token punctuation" >}</span>
  <span class="token punctuation" >}</span>
<span class="token punctuation" >}</span><span class="token punctuation" >;</span>
</code></pre>
<p>See <a href="http://cssnext.io/usage/">the usage documentation</a> for available options.</p>
<blockquote class="tip"><i class="icon-attention-circled"></i>Note that cssnext includes autoprefixer! You don&#39;t have to configure autoprefixing separately for it to work in this case.</blockquote><h2 class="header"><a class="header-anchor" href="#understanding-lookups" id="understanding-lookups"></a><span class="text">Understanding Lookups</span><a class="header-anchor-select" href="#understanding-lookups">#</a></h2>
<p>If you import one LESS/SASS file from another, use the exact same pattern as anywhere else. Webpack will dig into these files and figure out the dependencies.</p>
<pre><code class="lang-less"><span class="token variable" >@import</span> <span class="token string" >"./variables.less"</span><span class="token punctuation" >;</span>
</code></pre>
<p>You can also load LESS and SASS files directly from your node_modules directory. This is handy with libraries like Twitter Bootstrap:</p>
<pre><code class="lang-less"><span class="token variable" >@import</span> <span class="token string" >"~bootstrap/less/bootstrap"</span><span class="token punctuation" >;</span>
</code></pre>
<p>The tilde (<code>~</code>) tells webpack that it&#39;s not a relative import as by default. If tilde is included, it will perform a lookup against <code>node_modules</code> (default setting) although this is configurable through the <a href="https://webpack.js.org/configuration/resolve/#resolve-modules">resolve.modules</a> field.</p>
<p><a href="https://www.npmjs.com/package/resolve-url-loader">resolve-url-loader</a> makes it possible to specify <code>url()</code>&#39;s relative to the file location. This is particularly useful with <em>sass-loader</em>.</p>
<h2 class="header"><a class="header-anchor" href="#enabling-sourcemaps" id="enabling-sourcemaps"></a><span class="text">Enabling Sourcemaps</span><a class="header-anchor-select" href="#enabling-sourcemaps">#</a></h2>
<p>If you want to enable sourcemaps for CSS, you should enable <code>sourceMap</code> option for <em>css-loader</em> and set <code>output.publicPath</code> to an absolute url. In case you have more loaders, each needs to enable sourcemap support separately! <em>css-loader</em> <a href="https://github.com/webpack/css-loader/issues/29">issue 29</a> discusses this problem further.</p>
<h2 class="header"><a class="header-anchor" href="#using-bootstrap" id="using-bootstrap"></a><span class="text">Using Bootstrap</span><a class="header-anchor-select" href="#using-bootstrap">#</a></h2>
<p>There are a couple of ways to use <a href="https://getbootstrap.com/">Bootstrap</a> through webpack. One option is to point to the <a href="https://www.npmjs.com/package/bootstrap">npm version</a> and perform loader configuration as above.</p>
<p>The <a href="https://www.npmjs.com/package/bootstrap-sass">SASS version</a> is another option. In this case you should set <code>precision</code> option of <em>sass-loader</em> to at least 8. This is <a href="https://www.npmjs.com/package/bootstrap-sass#sass-number-precision">a known issue</a> explained at <em>bootstrap-sass</em>.</p>
<p>Third option is to go through <a href="https://www.npmjs.com/package/bootstrap-loader">bootstrap-loader</a>. It does a lot more, but allows customization.</p>
<h2 class="header"><a class="header-anchor" href="#converting-css-to-strings" id="converting-css-to-strings"></a><span class="text">Converting CSS to Strings</span><a class="header-anchor-select" href="#converting-css-to-strings">#</a></h2>
<p>Especially with Angular 2 it can be useful if you can get CSS in a string format that can be pushed to components. <a href="https://www.npmjs.com/package/css-to-string-loader">css-to-string-loader</a> achieves exactly this.</p>
<h2 class="header"><a class="header-anchor" href="#conclusion" id="conclusion"></a><span class="text">Conclusion</span><a class="header-anchor-select" href="#conclusion">#</a></h2>
<p>Loading style files through webpack is fairly straight-forward. It supports even advanced specifications like <a href="https://github.com/css-modules/webpack-demo">CSS Modules</a>. The approaches covered here inline the styling by default. Although that&#39;s enough for development purposes, it&#39;s not ideal for production usage. We&#39;ll cover how to handle this problem in the next chapter.</p>
</div><div class="social-links"><blockquote class="tip">If you enjoyed this chapter, consider subscribing to the mailing list below or following <a href="https://twitter.com/survivejs">@survivejs</a> for occasional updates. There is also <a href="/atom.xml">RSS</a> available for old beards (no pun intended).</blockquote><h2 class="subscribe-header">Subscribe to the mailing list</h2><form action="//jster.us7.list-manage.com/subscribe/post?u=ed40c0084a0c5ba31b3365d65&amp;id=b853b8e786" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate social-form" target="_blank" novalidate=""><div id="mc_embed_signup_scroll"><div class="mc-field-group social-input-container"><input type="email" placeholder="Email" value="" name="EMAIL" class="required email" id="mce-EMAIL"/></div><div style="display:none;position:absolute;left:-5000px;"><input type="text" name="b_ed40c0084a0c5ba31b3365d65_b853b8e786" tabindex="-1" value=""/></div><div class="social-subscribe-container"><input type="submit" class="btn button social-subscribe" style="margin-top:1em;margin-bottom:1em;line-height:2em;" value="Subscribe" name="subscribe" id="mc-embedded-subscribe"/></div></div></form></div><div class="new-prevnext"><div class="new-prevnext__prev"><div class="new-prevnext__bg" style="background-image:url(/assets/img/chapters/apples_oranges.jpg);"></div><span class="new-prevnext__info">Previous chapter</span><a class="new-prevnext__link" href="/webpack/handling-styles">Handling Styles with Webpack</a></div><div class="new-prevnext__next"><div class="new-prevnext__bg" style="background-image:url(/assets/img/chapters/taxi.jpg);"></div><span class="new-prevnext__info">Next chapter</span><a class="new-prevnext__link" href="/webpack/handling-styles/separating-css">Separating CSS</a></div></div><blockquote class="tip"><p>This book is <a href="https://leanpub.com/survivejs-webpack">available through Leanpub</a>. By purchasing the book you support the development of further content. A part of profit (~30%) goes to Tobias Koppers, the author of Webpack.</p></blockquote><div id="disqus_thread"></div></div></div><div><a class="next-page" title="Separating CSS" href="/webpack/handling-styles/separating-css"><i class="icon-right-open"></i></a><a class="previous-page" title="Handling Styles with Webpack" href="/webpack/handling-styles"><i class="icon-left-open"></i></a></div><script type="text/javascript">var disqus_shortname = 'survivejs';(function() {var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);})();</script></div><div class="nav__wrapper"><input type="checkbox" class="nav__toggle" id="nav__toggle"/><label class="nav__toggle-label" for="nav__toggle"></label><nav class="nav"><div class="nav__link"><a class="" href="/">Home</a></div><div class="nav__link"><a class="" href="/blog">Read the blog</a></div><div class="nav__link"><a class="" href="https://leanpub.com/survivejs-webpack">Buy the ebook</a></div><div class="nav__link"><a class="" href=""></a></div><div class="nav__link"><a class="" href="https://twitter.com/survivejs">@survivejs</a></div></nav></div><a href="https://github.com/survivejs/webpack" class="github-corner"><svg width="80" height="80" viewBox="0 0 250 250" style="position:absolute;top:0;fill:#000;right:0;"><path class="octo-banner" d="M0 0l115 115h15l12 27 108 108V0z" fill="#fff"></path><path class="octo-arm" d="M128 109c-15-9-9-19-9-19 3-7 2-11 2-11-1-7 3-2 3-2 4 5 2 11 2 11-3 10 5 15 9 16" style="-webkit-transform-origin:130px 106px;transform-origin:130px 106px;"></path><path class="octo-body" d="M115 115s4 2 5 0l14-14c3-2 6-3 8-3-8-11-15-24 2-41 5-5 10-7 16-7 1-2 3-7 12-11 0 0 5 3 7 16 4 2 8 5 12 9s7 8 9 12c14 3 17 7 17 7-4 8-9 11-11 11 0 6-2 11-7 16-16 16-30 10-41 2 0 3-1 7-5 11l-12 11c-1 1 1 5 1 5z"></path></svg></a><footer><div class="footer-wrapper"><div class="footer-content-wrapper"><div class="footer-social"><h3>Social</h3><ul><li><a href="https://twitter.com/survivejs" target="_blank">@survivejs</a></li><li><a href="http://eepurl.com/bth1v5" target="_blank">Mailing List</a></li><li><a href="https://gitter.im/survivejs" target="_blank">Gitter Chat</a></li><li><a href="https://github.com/survivejs" target="_blank">GitHub</a></li><li><a href="/atom.xml" target="_blank">Blog RSS</a></li><li><a href="http://goo.gl/forms/OWdGIOdHm9" target="_blank">Contact</a></li><li><a href="https://github.com/survivejs/ama/issues" target="_blank">Ask Me Anything</a></li></ul></div><div class="footer-blog"><h3>From the Blog</h3><ul class="blog-teasers"><li><a class="blog-teaser" href="/blog/isomorphic-webpack-interview">isomorphic-webpack - Universal module consumption using webpack - Interview with Gajus Kuizinas</a></li><li><a class="blog-teaser" href="/blog/survivejs-webpack-150">SurviveJS - Webpack - v1.5.0</a></li><li><a class="blog-teaser" href="/blog/styletron-interview">Styletron - Universal, high-performance JavaScript styles - Interview with Ryan Tsao</a></li><li><a class="blog-teaser" href="/blog/survivejs-webpack-142">SurviveJS - Webpack - v1.4.2</a></li><li><a class="blog-teaser" href="/blog/inferno-interview">Inferno - Blazing fast, React-like UI library - Interview with Dominic Gannaway</a></li><li><a class="blog-teaser" href="/blog/svelte-interview">Svelte - The magical disappearing UI framework - Interview with Rich Harris</a></li><li><a class="blog-teaser" href="/blog/webpack-merge-interview">webpack-merge - Taming Webpack Configuration - Interview with Juho Vepsäläinen</a></li><li><a class="blog-teaser" href="/blog/starratio-interview">StarRatio - Compare JavaScript Projects - Interview with Dmitry Zaets</a></li><li><a class="blog-teaser" href="/blog/redom-interview">RE:DOM - Tiny but Super Fast DOM Library - Interview with Juha Lindstedt</a></li><li><a class="blog-teaser" href="/blog/glamor-interview">Glamor - Inline CSS for React et al - Interview with Sunil Pai</a></li></ul></div></div></div></footer><div><div class="gitter-open-chat-button">Need help?</div><script type="text/javascript">
            ((window.gitter = {}).chat = {}).options = {
              showChatByDefault: false,
              activationElement: '.gitter-open-chat-button',
              room: 'survivejs/webpack'
            };
          </script><script src="https://sidecar.gitter.im/dist/sidecar.v1.js" async="" defer=""></script></div><div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script><script type="text/javascript">
            docsearch({
              apiKey: '1182e3806d62e921613b8dc9c7a22ef3',
              indexName: 'survivejs_webpack',
              inputSelector: '#search',
              debug: false
            });
          </script></div></main></body></html>