<html lang="en"><head><title>SurviveJS - Loader Definitions</title><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimal-ui"/><meta name="description" content="
Webpack provides multiple ways to set up module loaders. Webpack 2 simplified the situation by introducing a field known as use. The legacy options (loader and loaders) still work. I&#x27;ll discuss all of the options for completeness as you may see them in various configurations out there.

I recommend…"/><meta name="keywords" content="webpack,react,javascript,programming,web development"/><link rel="icon" type="image/png" href="/assets/img/favicon.png"/><link rel="alternate" type="application/atom+xml" href="/atom.xml"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css"/><link rel="stylesheet" href="/assets/main.css"/></head><body><main role="main"><div class="chapter__wrapper"><div class="header-image" style="background-image:url(/assets/img/chapters/wrench.jpg);"></div><h1 class="post__heading">Loader Definitions</h1><div class="header-extra"><a href="https://pixabay.com/en/tools-technique-open-end-wrench-1093117/">jpj2000nl (Public Domain)</a></div><div class="toc-nav__wrapper"><h4 class="search-nav--header">Search</h4><input id="search"/><h4 class="toc-nav--header">Table of Contents</h4><ul class="toc-nav"><li class="toc-intro"><a class="toc-nav__link intro" href="/webpack/introduction">Introduction</a></li><li class="toc-intro"><a class="toc-nav__link intro" href="/webpack/webpack-compared">Webpack Compared</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/developing-with-webpack">Developing with Webpack</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/developing-with-webpack/getting-started">Getting Started</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/developing-with-webpack/splitting-configuration">Splitting the Configuration</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/developing-with-webpack/automatic-browser-refresh">Automatic Browser Refresh</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/developing-with-webpack/refreshing-css">Refreshing CSS</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/developing-with-webpack/enabling-sourcemaps">Enabling Sourcemaps</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/building-with-webpack">Building with Webpack</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/building-with-webpack/minifying-build">Minifying the Build</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/building-with-webpack/setting-environment-variables">Setting Environment Variables</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/building-with-webpack/splitting-bundles">Splitting Bundles</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/building-with-webpack/adding-hashes-to-filenames">Adding Hashes to Filenames</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/building-with-webpack/cleaning-build">Cleaning the Build</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/building-with-webpack/separating-css">Separating CSS</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/building-with-webpack/eliminating-unused-css">Eliminating Unused CSS</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/building-with-webpack/analyzing-build-statistics">Analyzing Build Statistics</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/building-with-webpack/hosting-on-github-pages">Hosting on GitHub Pages</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/loading-assets">Loading Assets</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/loading-assets/formats-supported">Formats Supported</a></li><li class="toc-chapter"><span class="toc-nav__link toc-nav__link--current chapter">Loader Definitions</span></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/loading-assets/loading-styles">Loading Styles</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/loading-assets/loading-images">Loading Images</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/loading-assets/loading-fonts">Loading Fonts</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/advanced-techniques">Advanced Techniques</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/advanced-techniques/understanding-chunks">Understanding Chunks</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/advanced-techniques/linting">Linting in Webpack</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/advanced-techniques/authoring-packages">Authoring Packages</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/advanced-techniques/writing-loaders">Writing Loaders</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/advanced-techniques/configuring-react">Configuring React</a></li></ul><div><div class="buy-container"><a href="/webpack/introduction"><img class="sidebar-cover" src="/assets/img/webpack_title_page_small.png" width="255" height="329"/></a><p><a class="btn btn--normal btn--buy" href="https://leanpub.com/survivejs-webpack">Buy at Leanpub</a></p></div><h3>See also</h3><div class="buy-container"><a href="/react/introduction"><img class="sidebar-cover" src="/assets/img/react_title_page_small.png" width="255" height="329"/></a><p><a class="btn btn--normal btn--buy" href="https://leanpub.com/survivejs-react">Buy at Leanpub</a></p></div></div></div><div class="chapter"><div class="post__content"><blockquote class="latestpost tip"><div>From the blog:</div><a class="latestpost-link" href="/blog/survivejs-webpack-142">SurviveJS - Webpack - v1.4.2</a></blockquote><div class="chapter-content"><p>Webpack provides multiple ways to set up module loaders. Webpack 2 simplified the situation by introducing a field known as <code>use</code>. The legacy options (<code>loader</code> and <code>loaders</code>) still work. I&#39;ll discuss all of the options for completeness as you may see them in various configurations out there.</p>
<p>I recommend maintaining an <code>include</code> definition per each loader definition. This will restrict its search path, improve performance, and make your configuration easier to follow. <code>include</code> accepts either a path or an array of paths.</p>
<p>It can be a good idea to prefer absolute paths here as it allows you to move configuration without breaking assumptions. Ideally you have to tweak just a single place during restructuring.</p>
<h2 class="header"><a class="header-anchor" href="#loader-evaluation-order" id="loader-evaluation-order"></a><span class="text">Loader Evaluation Order</span><a class="header-anchor-select" href="#loader-evaluation-order">#</a></h2>
<p>It is good to keep in mind that webpack&#39;s <code>loaders</code> are always evaluated from right to left and from bottom to top (separate definitions). The right to left rule is easier to remember when you think about it in terms of functions. You can read definition <code>use: [&#39;style-loader&#39;, &#39;css-loader&#39;]</code> as <code>style(css(input))</code> based on this rule.</p>
<p>To see the rule in action, consider the example below:</p>
<pre><code class="lang-javascript"><span class="token punctuation" >{</span>
  test<span class="token punctuation" >:</span> <span class="token regex" >/\.css$/</span><span class="token punctuation" >,</span>
  use<span class="token punctuation" >:</span> <span class="token punctuation" >[</span><span class="token string" >'style-loader'</span><span class="token punctuation" >,</span> <span class="token string" >'css-loader'</span><span class="token punctuation" >]</span><span class="token punctuation" >,</span>
  include<span class="token punctuation" >:</span> PATHS<span class="token punctuation" >.</span>app
<span class="token punctuation" >}</span>
</code></pre>
<p>Based on the right to left rule, the example can be split up while keeping it equivalent:</p>
<pre><code class="lang-javascript"><span class="token punctuation" >{</span>
  test<span class="token punctuation" >:</span> <span class="token regex" >/\.css$/</span><span class="token punctuation" >,</span>
  use<span class="token punctuation" >:</span> <span class="token punctuation" >[</span><span class="token string" >'style-loader'</span><span class="token punctuation" >]</span><span class="token punctuation" >,</span>
  include<span class="token punctuation" >:</span> PATHS<span class="token punctuation" >.</span>app
<span class="token punctuation" >}</span><span class="token punctuation" >,</span>
<span class="token punctuation" >{</span>
  test<span class="token punctuation" >:</span> <span class="token regex" >/\.css$/</span><span class="token punctuation" >,</span>
  use<span class="token punctuation" >:</span> <span class="token punctuation" >[</span><span class="token string" >'css-loader'</span><span class="token punctuation" >]</span><span class="token punctuation" >,</span>
  include<span class="token punctuation" >:</span> PATHS<span class="token punctuation" >.</span>app
<span class="token punctuation" >}</span>
</code></pre>
<h2 class="header"><a class="header-anchor" href="#passing-parameters-to-a-loader" id="passing-parameters-to-a-loader"></a><span class="text">Passing Parameters to a Loader</span><a class="header-anchor-select" href="#passing-parameters-to-a-loader">#</a></h2>
<p>The query format allows passing parameters as well:</p>
<pre><code class="lang-javascript"><span class="token punctuation" >{</span>
  test<span class="token punctuation" >:</span> <span class="token regex" >/\.(js|jsx)$/</span><span class="token punctuation" >,</span>
  use<span class="token punctuation" >:</span> <span class="token string" >'babel-loader?cacheDirectory,presets[]=react,presets[]=es2015'</span><span class="token punctuation" >,</span>
  include<span class="token punctuation" >:</span> PATHS<span class="token punctuation" >.</span>app
<span class="token punctuation" >}</span>
</code></pre>
<p>This isn&#39;t very readable. There may still be use for the old query format especially if you have to perform processing within your source files. Often there are better ways available, though.</p>
<p>Instead, it&#39;s preferable to use the combination of <code>use</code> and <code>options</code> fields either like this:</p>
<pre><code class="lang-javascript"><span class="token punctuation" >{</span>
  test<span class="token punctuation" >:</span> <span class="token regex" >/\.(js|jsx)$/</span><span class="token punctuation" >,</span>
  use<span class="token punctuation" >:</span> <span class="token string" >'babel-loader'</span><span class="token punctuation" >,</span>
  options<span class="token punctuation" >:</span> <span class="token punctuation" >{</span>
    cacheDirectory<span class="token punctuation" >:</span> <span class="token boolean" >true</span><span class="token punctuation" >,</span>
    presets<span class="token punctuation" >:</span> <span class="token punctuation" >[</span><span class="token string" >'react'</span><span class="token punctuation" >,</span> <span class="token string" >'es2015'</span><span class="token punctuation" >]</span>
  <span class="token punctuation" >}</span><span class="token punctuation" >,</span>
  include<span class="token punctuation" >:</span> PATHS<span class="token punctuation" >.</span>app
<span class="token punctuation" >}</span>
</code></pre>
<p>Or you can apply <code>use</code> and handle it there. The advantage of this approach is that it allows you to set up multiple loaders per match in a readable manner. Since we are using only one loader, wrapping it in an array feels a little too much, but if we had more, this would work:</p>
<pre><code class="lang-javascript"><span class="token punctuation" >{</span>
  test<span class="token punctuation" >:</span> <span class="token regex" >/\.(js|jsx)$/</span><span class="token punctuation" >,</span>
  use<span class="token punctuation" >:</span> <span class="token punctuation" >[</span>
    <span class="token punctuation" >{</span>
      loader<span class="token punctuation" >:</span> <span class="token string" >'babel-loader'</span><span class="token punctuation" >,</span>
      options<span class="token punctuation" >:</span> <span class="token punctuation" >{</span>
        cacheDirectory<span class="token punctuation" >:</span> <span class="token boolean" >true</span><span class="token punctuation" >,</span>
        presets<span class="token punctuation" >:</span> <span class="token punctuation" >[</span><span class="token string" >'react'</span><span class="token punctuation" >,</span> <span class="token string" >'es2015'</span><span class="token punctuation" >]</span>
      <span class="token punctuation" >}</span>
    <span class="token punctuation" >}</span><span class="token punctuation" >,</span>
    <span class="token comment" spellcheck="true">// Add more loaders here</span>
  <span class="token punctuation" >]</span><span class="token punctuation" >,</span>
  include<span class="token punctuation" >:</span> PATHS<span class="token punctuation" >.</span>app
<span class="token punctuation" >}</span>
</code></pre>
<h2 class="header"><a class="header-anchor" href="#-loaderoptionsplugin-" id="-loaderoptionsplugin-"></a><span class="text"><code>LoaderOptionsPlugin</code></span><a class="header-anchor-select" href="#-loaderoptionsplugin-">#</a></h2>
<p>Given webpack 2 forbids arbitrary root level configuration, you have to use <code>LoaderOptionsPlugin</code> to manage it. The plugin exists for legacy compatibility and may disappear in a future release. Consider the example below:</p>
<pre><code class="lang-javascript"><span class="token punctuation" >{</span>
  plugins<span class="token punctuation" >:</span> <span class="token punctuation" >[</span>
    <span class="token keyword" >new</span> <span class="token class-name" >webpack<span class="token punctuation" >.</span>LoaderOptionsPlugin</span><span class="token punctuation" >(</span><span class="token punctuation" >{</span>
      options<span class="token punctuation" >:</span> <span class="token punctuation" >{</span>
        context<span class="token punctuation" >:</span> __dirname<span class="token punctuation" >,</span>
        postcss<span class="token punctuation" >:</span> <span class="token keyword" >function</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
          <span class="token keyword" >return</span> <span class="token punctuation" >[</span>autoprefixer<span class="token punctuation" >]</span><span class="token punctuation" >;</span>
        <span class="token punctuation" >}</span>
      <span class="token punctuation" >}</span>
    <span class="token punctuation" >}</span><span class="token punctuation" >)</span>
  <span class="token punctuation" >]</span>
<span class="token punctuation" >}</span>
</code></pre>
<h2 class="header"><a class="header-anchor" href="#conclusion" id="conclusion"></a><span class="text">Conclusion</span><a class="header-anchor-select" href="#conclusion">#</a></h2>
<p>Webpack provides multiple ways to set up loaders, but sticking with <code>use</code> is enough in webpack 2. You should be careful especially with loader ordering. I will discuss specific assets types and how to load them using webpack next.</p>
</div><div class="social-links"><blockquote class="tip">If you enjoyed this chapter, consider subscribing to the mailing list below or following <a href="https://twitter.com/survivejs">@survivejs</a> for occasional updates. There is also <a href="/atom.xml">RSS</a> available for old beards (no pun intended).</blockquote><h2 class="subscribe-header">Subscribe to the mailing list</h2><form action="//jster.us7.list-manage.com/subscribe/post?u=ed40c0084a0c5ba31b3365d65&amp;id=b853b8e786" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate social-form" target="_blank" novalidate=""><div id="mc_embed_signup_scroll"><div class="mc-field-group social-input-container"><input type="email" placeholder="Email" value="" name="EMAIL" class="required email" id="mce-EMAIL"/></div><div style="display:none;position:absolute;left:-5000px;"><input type="text" name="b_ed40c0084a0c5ba31b3365d65_b853b8e786" tabindex="-1" value=""/></div><div class="social-subscribe-container"><input type="submit" class="btn button social-subscribe" style="margin-top:1em;margin-bottom:1em;line-height:2em;" value="Subscribe" name="subscribe" id="mc-embedded-subscribe"/></div></div></form></div><div class="new-prevnext"><div class="new-prevnext__prev"><div class="new-prevnext__bg" style="background-image:url(/assets/img/chapters/dvd.jpg);"></div><span class="new-prevnext__info">Previous chapter</span><a class="new-prevnext__link" href="/webpack/loading-assets/formats-supported">Formats Supported</a></div><div class="new-prevnext__next"><div class="new-prevnext__bg" style="background-image:url(/assets/img/chapters/skinny.jpg);"></div><span class="new-prevnext__info">Next chapter</span><a class="new-prevnext__link" href="/webpack/loading-assets/loading-styles">Loading Styles</a></div></div><blockquote class="tip"><p>This book is <a href="https://leanpub.com/survivejs-webpack">available through Leanpub</a>. By purchasing the book you support the development of further content. A part of profit (~30%) goes to Tobias Koppers, the author of Webpack.</p></blockquote><div id="disqus_thread"></div></div></div><div><a class="next-page" title="Loading Styles" href="/webpack/loading-assets/loading-styles"><i class="icon-right-open"></i></a><a class="previous-page" title="Formats Supported" href="/webpack/loading-assets/formats-supported"><i class="icon-left-open"></i></a></div><script type="text/javascript">var disqus_shortname = 'survivejs';(function() {var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);})();</script></div><div class="nav__wrapper"><input type="checkbox" class="nav__toggle" id="nav__toggle"/><label class="nav__toggle-label" for="nav__toggle"></label><nav class="nav"><div class="nav__link"><a class="" href="/">Home</a></div><div class="nav__link"><a class="" href="/blog">Read the blog</a></div><div class="nav__link"><a class="" href="https://leanpub.com/survivejs-webpack">Buy the ebook</a></div><div class="nav__link"><a class="" href=""></a></div><div class="nav__link"><a class="" href="https://twitter.com/survivejs">@survivejs</a></div></nav></div><a href="https://github.com/survivejs/webpack" class="github-corner"><svg width="80" height="80" viewBox="0 0 250 250" style="position:absolute;top:0;fill:#000;right:0;"><path class="octo-banner" d="M0 0l115 115h15l12 27 108 108V0z" fill="#fff"></path><path class="octo-arm" d="M128 109c-15-9-9-19-9-19 3-7 2-11 2-11-1-7 3-2 3-2 4 5 2 11 2 11-3 10 5 15 9 16" style="-webkit-transform-origin:130px 106px;transform-origin:130px 106px;"></path><path class="octo-body" d="M115 115s4 2 5 0l14-14c3-2 6-3 8-3-8-11-15-24 2-41 5-5 10-7 16-7 1-2 3-7 12-11 0 0 5 3 7 16 4 2 8 5 12 9s7 8 9 12c14 3 17 7 17 7-4 8-9 11-11 11 0 6-2 11-7 16-16 16-30 10-41 2 0 3-1 7-5 11l-12 11c-1 1 1 5 1 5z"></path></svg></a><footer><div class="footer-wrapper"><div class="footer-content-wrapper"><div class="footer-social"><h3>Social</h3><ul><li><a href="https://twitter.com/survivejs" target="_blank">@survivejs</a></li><li><a href="http://eepurl.com/bth1v5" target="_blank">Mailing List</a></li><li><a href="https://gitter.im/survivejs" target="_blank">Gitter Chat</a></li><li><a href="https://github.com/survivejs" target="_blank">GitHub</a></li><li><a href="/atom.xml" target="_blank">Blog RSS</a></li><li><a href="http://goo.gl/forms/OWdGIOdHm9" target="_blank">Contact</a></li><li><a href="https://github.com/survivejs/ama/issues" target="_blank">Ask Me Anything</a></li></ul></div><div class="footer-blog"><h3>From the Blog</h3><ul class="blog-teasers"><li><a class="blog-teaser" href="/blog/survivejs-webpack-142">SurviveJS - Webpack - v1.4.2</a></li><li><a class="blog-teaser" href="/blog/inferno-interview">Inferno - Blazing fast, React-like UI library - Interview with Dominic Gannaway</a></li><li><a class="blog-teaser" href="/blog/svelte-interview">Svelte - The magical disappearing UI framework - Interview with Rich Harris</a></li><li><a class="blog-teaser" href="/blog/webpack-merge-interview">webpack-merge - Taming Webpack Configuration - Interview with Juho Vepsäläinen</a></li><li><a class="blog-teaser" href="/blog/starratio-interview">StarRatio - Compare JavaScript Projects - Interview with Dmitry Zaets</a></li><li><a class="blog-teaser" href="/blog/redom-interview">RE:DOM - Tiny but Super Fast DOM Library - Interview with Juha Lindstedt</a></li><li><a class="blog-teaser" href="/blog/glamor-interview">Glamor - Inline CSS for React et al - Interview with Sunil Pai</a></li><li><a class="blog-teaser" href="/blog/teaching-javascript-interview">Teaching JavaScript - Interview with Bianca Gandolfo</a></li><li><a class="blog-teaser" href="/blog/react-game-kit-interview">react-game-kit - Make games with React - Interview with Ken Wheeler</a></li><li><a class="blog-teaser" href="/blog/reactotron-interview">Reactotron - A CLI and OS X App for Inspecting - Interview with Steve Kellock</a></li></ul></div></div></div></footer><div><div class="gitter-open-chat-button">Need help?</div><script type="text/javascript">
            ((window.gitter = {}).chat = {}).options = {
              showChatByDefault: false,
              activationElement: '.gitter-open-chat-button',
              room: 'survivejs/webpack'
            };
          </script><script src="https://sidecar.gitter.im/dist/sidecar.v1.js" async="" defer=""></script></div><div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script><script type="text/javascript">
            docsearch({
              apiKey: '1182e3806d62e921613b8dc9c7a22ef3',
              indexName: 'survivejs_webpack',
              inputSelector: '#search',
              debug: false
            });
          </script></div></main></body></html>