<html lang="en"><head><title>SurviveJS - Loading Images</title><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimal-ui"/><meta name="description" content="
The easiest way to make your application slow is to load a lot of small assets. Each request comes with an overhead after all. HTTP/2 will help in this regard and change the situation somewhat drastically. Till then we are stuck with different approaches. Webpack allows a few of these. They are par…"/><meta name="keywords" content="webpack,react,javascript,programming,web development"/><link rel="icon" type="image/png" href="/assets/img/favicon.png"/><link rel="alternate" type="application/atom+xml" href="/atom.xml"/><link rel="stylesheet" href="/assets/main.css"/></head><body><main role="main"><div class="chapter__wrapper"><div class="header-image" style="background-image:url(/assets/img/chapters/old_camera.jpg);"></div><h1 class="post__heading">Loading Images</h1><div class="header-extra"><a href="https://pixabay.com/en/photo-camera-photography-old-retro-219958/">PublicDomainPictures (Public Domain)</a></div><div class="toc-nav__wrapper"><h4 class="toc-nav--header">Table of Contents</h4><ul class="toc-nav"><li class="toc-intro"><a class="toc-nav__link intro" href="/webpack/introduction">Introduction</a></li><li class="toc-intro"><a class="toc-nav__link intro" href="/webpack/webpack-compared">Webpack Compared</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/developing-with-webpack">Developing with Webpack</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/developing-with-webpack/getting-started">Getting Started</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/developing-with-webpack/splitting-configuration">Splitting the Configuration</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/developing-with-webpack/automatic-browser-refresh">Automatic Browser Refresh</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/developing-with-webpack/refreshing-css">Refreshing CSS</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/developing-with-webpack/enabling-sourcemaps">Enabling Sourcemaps</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/building-with-webpack">Building with Webpack</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/building-with-webpack/minifying-build">Minifying the Build</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/building-with-webpack/setting-environment-variables">Setting Environment Variables</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/building-with-webpack/splitting-bundles">Splitting Bundles</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/building-with-webpack/adding-hashes-to-filenames">Adding Hashes to Filenames</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/building-with-webpack/cleaning-build">Cleaning the Build</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/building-with-webpack/separating-css">Separating CSS</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/building-with-webpack/eliminating-unused-css">Eliminating Unused CSS</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/building-with-webpack/analyzing-build-statistics">Analyzing Build Statistics</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/building-with-webpack/hosting-on-github-pages">Hosting on GitHub Pages</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/loading-assets">Loading Assets</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/loading-assets/formats-supported">Formats Supported</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/loading-assets/loader-definitions">Loader Definitions</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/loading-assets/loading-styles">Loading Styles</a></li><li class="toc-chapter"><span class="toc-nav__link toc-nav__link--current chapter">Loading Images</span></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/loading-assets/loading-fonts">Loading Fonts</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/advanced-techniques">Advanced Techniques</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/advanced-techniques/understanding-chunks">Understanding Chunks</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/advanced-techniques/linting">Linting in Webpack</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/advanced-techniques/authoring-packages">Authoring Packages</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/advanced-techniques/writing-loaders">Writing Loaders</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/advanced-techniques/configuring-react">Configuring React</a></li></ul><div><div class="buy-container"><a href="/webpack/introduction"><img class="sidebar-cover" src="/assets/img/webpack_title_page_small.png" width="255" height="329"/></a><p><a class="btn btn--normal btn--buy" href="https://leanpub.com/survivejs-webpack">Buy at Leanpub</a></p></div><h3>See also</h3><div class="buy-container"><a href="/react/introduction"><img class="sidebar-cover" src="/assets/img/react_title_page_small.png" width="255" height="329"/></a><p><a class="btn btn--normal btn--buy" href="https://leanpub.com/survivejs-react">Buy at Leanpub</a></p></div></div></div><div class="chapter"><div class="post__content"><blockquote class="latestpost tip"><div>From the blog:</div><a class="latestpost-link" href="/blog/purescript-interview">PureScript - Strongly Typed Programming Language Compiling to JavaScript - Interview with Phil Freeman</a></blockquote><div class="chapter-content"><p>The easiest way to make your application slow is to load a lot of small assets. Each request comes with an overhead after all. HTTP/2 will help in this regard and change the situation somewhat drastically. Till then we are stuck with different approaches. Webpack allows a few of these. They are particularly relevant for loading images.</p>
<p>Webpack allows you to inline assets by using <a href="https://www.npmjs.com/package/url-loader">url-loader</a>. It will output your images as BASE64 strings within your JavaScript bundles. This will decrease the amount of requests needed while growing the bundle size. Given too large bundles aren&#39;t fun either, Webpack allows you to control the inlining process and defer loading to <a href="https://www.npmjs.com/package/file-loader">file-loader</a> that outputs image files and returns paths to them.</p>
<h2 class="header"><a class="header-anchor" href="#setting-up-url-loader-" id="setting-up-url-loader-"></a><span class="text">Setting Up <em>url-loader</em></span><a class="header-anchor-select" href="#setting-up-url-loader-">#</a></h2>
<p>If you want to use <em>url-loader</em> and its <em>limit</em> feature, you will need to install both <em>url-loader</em> and <em>file-loader</em> to your project. Assuming you have configured your styles correctly, Webpack will resolve any <code>url()</code> statements your styling might have. You can of course point to the image assets through your JavaScript code as well.</p>
<p>In order to load <em>.jpg</em> and <em>.png</em> files while inlining files below 25kB, we would set up a loader like this:</p>
<pre><code class="lang-javascript"><span class="token punctuation" >{</span>
  test<span class="token punctuation" >:</span> <span class="token regex" >/\.(jpg|png)$/</span><span class="token punctuation" >,</span>
  loader<span class="token punctuation" >:</span> <span class="token string" >'url?limit=25000'</span><span class="token punctuation" >,</span>
  include<span class="token punctuation" >:</span> PATHS<span class="token punctuation" >.</span>images
<span class="token punctuation" >}</span>
</code></pre>
<h2 class="header"><a class="header-anchor" href="#setting-up-file-loader-" id="setting-up-file-loader-"></a><span class="text">Setting Up <em>file-loader</em></span><a class="header-anchor-select" href="#setting-up-file-loader-">#</a></h2>
<p>If you want to skip inlining, you can use <em>file-loader</em> directly. The following setup customizes the resulting filename. By default <em>file-loader</em> returns the MD5 hash of the file&#39;s contents with the original extension:</p>
<pre><code class="lang-javascript"><span class="token punctuation" >{</span>
  test<span class="token punctuation" >:</span> <span class="token regex" >/\.(jpg|png)$/</span><span class="token punctuation" >,</span>
  loader<span class="token punctuation" >:</span> <span class="token string" >'file?name=[path][name].[hash].[ext]'</span><span class="token punctuation" >,</span>
  include<span class="token punctuation" >:</span> PATHS<span class="token punctuation" >.</span>images
<span class="token punctuation" >}</span>
</code></pre>
<h2 class="header"><a class="header-anchor" href="#loading-svgs" id="loading-svgs"></a><span class="text">Loading SVGs</span><a class="header-anchor-select" href="#loading-svgs">#</a></h2>
<p>Webpack has a <a href="https://github.com/webpack/webpack/issues/595">few ways</a> to load SVGs. However the simplest way is through <em>file-loader</em> as follows:</p>
<pre><code class="lang-javascript"><span class="token punctuation" >{</span>
  test<span class="token punctuation" >:</span> <span class="token regex" >/\.svg$/</span><span class="token punctuation" >,</span>
  loader<span class="token punctuation" >:</span> <span class="token string" >'file'</span><span class="token punctuation" >,</span>
  include<span class="token punctuation" >:</span> PATHS<span class="token punctuation" >.</span>images
<span class="token punctuation" >}</span>
</code></pre>
<p>Assuming you have set up your styling correctly, you can refer to your SVG files like this. The example SVG path below is relative to the CSS file:</p>
<pre><code class="lang-css"><span class="token selector" ><span class="token class" >.icon</span> </span><span class="token punctuation" >{</span>
   <span class="token property" >background-image</span><span class="token punctuation" >:</span> <span class="token url" >url('../assets/icon.svg')</span><span class="token punctuation" >;</span>
<span class="token punctuation" >}</span>
</code></pre>
<p>If you want the raw SVG content, you can use the <a href="https://www.npmjs.com/package/raw-loader">raw-loader</a> for this purpose. This can be useful if you want to inject the SVG content to directly to JavaScript or HTML markup.</p>
<h2 class="header"><a class="header-anchor" href="#compressing-images" id="compressing-images"></a><span class="text">Compressing Images</span><a class="header-anchor-select" href="#compressing-images">#</a></h2>
<p>In case you want to compress your images, use <a href="https://www.npmjs.com/package/image-webpack-loader">image-webpack-loader</a> or <a href="https://github.com/pozadi/svgo-loader">svgo-loader</a> (SVG specific). This type of loader should be applied first to the data so remember to place it as the last within <code>loaders</code> listing.</p>
<p>Compression is particularly useful during production usage as it will decrease the amount of bandwidth required to download your image assets and speed up your site or application as a result.</p>
<h2 class="header"><a class="header-anchor" href="#conclusion" id="conclusion"></a><span class="text">Conclusion</span><a class="header-anchor-select" href="#conclusion">#</a></h2>
<p>Webpack allows you to inline images within your bundles when needed. Figuring out good inlining limits for your images might take some experimentation. You have to balance between bundle sizes and the amount of requests.</p>
</div><div class="social-links"><blockquote class="tip">If you enjoyed this chapter, consider subscribing to the mailing list below or following <a href="https://twitter.com/survivejs">@survivejs</a> for occasional updates. There is also <a href="/atom.xml">RSS</a> available for old beards (no pun intended).</blockquote><h2 class="subscribe-header">Subscribe to the mailing list</h2><form action="//jster.us7.list-manage.com/subscribe/post?u=ed40c0084a0c5ba31b3365d65&amp;id=b853b8e786" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate social-form" target="_blank" novalidate=""><div id="mc_embed_signup_scroll"><div class="mc-field-group social-input-container"><input type="email" placeholder="Email" value="" name="EMAIL" class="required email" id="mce-EMAIL"/></div><div style="display:none;position:absolute;left:-5000px;"><input type="text" name="b_ed40c0084a0c5ba31b3365d65_b853b8e786" tabindex="-1" value=""/></div><div class="social-subscribe-container"><input type="submit" class="btn button social-subscribe" style="margin-top:1em;margin-bottom:1em;line-height:2em;" value="Subscribe" name="subscribe" id="mc-embedded-subscribe"/></div></div></form></div><div class="new-prevnext"><div class="new-prevnext__prev"><div class="new-prevnext__bg" style="background-image:url(/assets/img/chapters/skinny.jpg);"></div><span class="new-prevnext__info">Previous chapter</span><a class="new-prevnext__link" href="/webpack/loading-assets/loading-styles">Loading Styles</a></div><div class="new-prevnext__next"><div class="new-prevnext__bg" style="background-image:url(/assets/img/chapters/typing.jpg);"></div><span class="new-prevnext__info">Next chapter</span><a class="new-prevnext__link" href="/webpack/loading-assets/loading-fonts">Loading Fonts</a></div></div><blockquote class="tip"><p>This book is <a href="https://leanpub.com/survivejs-webpack">available through Leanpub</a>. By purchasing the book you support the development of further content. A part of profit (~30%) goes to Tobias Koppers, the author of Webpack.</p></blockquote><div id="disqus_thread"></div></div></div><div><a class="next-page" title="Loading Fonts" href="/webpack/loading-assets/loading-fonts"><i class="icon-right-open"></i></a><a class="previous-page" title="Loading Styles" href="/webpack/loading-assets/loading-styles"><i class="icon-left-open"></i></a></div><script type="text/javascript">var disqus_shortname = 'survivejs';(function() {var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);})();</script></div><div class="nav__wrapper"><input type="checkbox" class="nav__toggle" id="nav__toggle"/><label class="nav__toggle-label" for="nav__toggle"></label><nav class="nav"><div class="nav__link"><a class="" href="/">Home</a></div><div class="nav__link"><a class="" href="/blog">Read the blog</a></div><div class="nav__link"><a class="" href="https://leanpub.com/survivejs-webpack">Buy the ebook</a></div><div class="nav__link"><a class="" href=""></a></div><div class="nav__link"><a class="" href="https://twitter.com/survivejs">@survivejs</a></div></nav></div><a href="https://github.com/survivejs/webpack" class="github-corner"><svg width="80" height="80" viewBox="0 0 250 250" style="position:absolute;top:0;fill:#000;right:0;"><path class="octo-banner" d="M0 0l115 115h15l12 27 108 108V0z" fill="#fff"></path><path class="octo-arm" d="M128 109c-15-9-9-19-9-19 3-7 2-11 2-11-1-7 3-2 3-2 4 5 2 11 2 11-3 10 5 15 9 16" style="-webkit-transform-origin:130px 106px;transform-origin:130px 106px;"></path><path class="octo-body" d="M115 115s4 2 5 0l14-14c3-2 6-3 8-3-8-11-15-24 2-41 5-5 10-7 16-7 1-2 3-7 12-11 0 0 5 3 7 16 4 2 8 5 12 9s7 8 9 12c14 3 17 7 17 7-4 8-9 11-11 11 0 6-2 11-7 16-16 16-30 10-41 2 0 3-1 7-5 11l-12 11c-1 1 1 5 1 5z"></path></svg></a><footer><div class="footer-wrapper"><div class="footer-content-wrapper"><div class="footer-social"><h3>Social</h3><ul><li><a href="https://twitter.com/survivejs" target="_blank">@survivejs</a></li><li><a href="http://eepurl.com/bth1v5" target="_blank">Mailing List</a></li><li><a href="https://gitter.im/survivejs" target="_blank">Gitter Chat</a></li><li><a href="https://github.com/survivejs" target="_blank">GitHub</a></li><li><a href="/atom.xml" target="_blank">Blog RSS</a></li><li><a href="http://goo.gl/forms/OWdGIOdHm9" target="_blank">Contact</a></li><li><a href="https://github.com/survivejs/ama/issues" target="_blank">Ask Me Anything</a></li></ul></div><div class="footer-blog"><h3>From the Blog</h3><ul class="blog-teasers"><li><a class="blog-teaser" href="/blog/purescript-interview">PureScript - Strongly Typed Programming Language Compiling to JavaScript - Interview with Phil Freeman</a></li><li><a class="blog-teaser" href="/blog/codeceptjs-interview">CodeceptJS - Modern Era Acceptance Testing for Node.js - Interview with Michael Bodnarchuk</a></li><li><a class="blog-teaser" href="/blog/mostly-interview">Mostly Adequate Guide to Functional Programming - Interview with Brian Lonsdorf</a></li><li><a class="blog-teaser" href="/blog/tcomb-interview">tcomb - Type checking and DDD for JavaScript - Interview with Giulio Canti</a></li><li><a class="blog-teaser" href="/blog/redux-saga-interview">redux-saga - Saga Middleware for Redux to Handle Side Effects - Interview with Yassine Elouafi</a></li><li><a class="blog-teaser" href="/blog/snabbdom-interview">Snabbdom - a Virtual DOM Focusing on Simplicity - Interview with Simon Friis Vindum</a></li><li><a class="blog-teaser" href="/blog/survivejs-webpack-131">SurviveJS - Webpack - v1.3.1</a></li><li><a class="blog-teaser" href="/blog/npms-interview">npms.io - A better and open source search for node modules - Interview with André Cruz</a></li><li><a class="blog-teaser" href="/blog/mikey-interview">Mikey - React/Redux CLI/Framework - Interview with Michael Farrell</a></li><li><a class="blog-teaser" href="/blog/survivejs-react-253">SurviveJS - React - v2.5.3</a></li></ul></div></div></div></footer><div><div class="gitter-open-chat-button">Need help?</div><script type="text/javascript">
            ((window.gitter = {}).chat = {}).options = {
              showChatByDefault: false,
              activationElement: '.gitter-open-chat-button',
              room: 'survivejs/webpack'
            };
          </script><script src="https://sidecar.gitter.im/dist/sidecar.v1.js" async="" defer=""></script></div></main></body></html>