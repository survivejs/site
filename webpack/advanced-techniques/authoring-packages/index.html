<html lang="en"><head><title>SurviveJS - Authoring Packages</title><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimal-ui"/><meta name="description" content="
Even though webpack is useful for bundling applications, it has its uses for package authors as well. You can use it to generate a website for your package and maintain the distribution files using it. It supports a format known as UMD format. UMD is compatible with various environments (CommonJS, …"/><meta name="keywords" content="webpack,react,javascript,programming,web development"/><link rel="icon" type="image/png" href="/assets/img/favicon.png"/><link rel="alternate" type="application/atom+xml" href="/atom.xml"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css"/><link rel="stylesheet" href="/assets/main.css"/></head><body><main role="main"><div class="chapter__wrapper"><div class="header-image" style="background-image:url(/assets/img/chapters/library.jpg);"></div><h1 class="post__heading">Authoring Packages</h1><div class="header-extra"><a href="https://www.flickr.com/photos/19219926@N04/3707001321">Duke University Archives (CC BY-NC-SA)</a></div><div class="toc-nav__wrapper"><h4 class="search-nav--header">Search</h4><input id="search"/><h4 class="toc-nav--header">Table of Contents</h4><ul class="toc-nav"><li class="toc-intro"><a class="toc-nav__link intro" href="/webpack/introduction">Introduction</a></li><li class="toc-intro"><a class="toc-nav__link intro" href="/webpack/webpack-compared">Webpack Compared</a></li><li class="toc-intro"><a class="toc-nav__link intro" href="/webpack/why-webpack">Why Webpack?</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/developing-with-webpack">Developing with Webpack</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/developing-with-webpack/getting-started">Getting Started</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/developing-with-webpack/automatic-browser-refresh">Automatic Browser Refresh</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/developing-with-webpack/configuring-hmr">Configuring Hot Module Replacement</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/developing-with-webpack/linting">Linting JavaScript</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/developing-with-webpack/composing-configuration">Composing Configuration</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/handling-styles">Handling Styles with Webpack</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/handling-styles/loading">Loading Styles</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/handling-styles/separating-css">Separating CSS</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/handling-styles/eliminating-unused-css">Eliminating Unused CSS</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/handling-styles/linting">Linting CSS</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/understanding-loaders">Understanding Loaders</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/understanding-loaders/loader-definitions">Loader Definitions</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/understanding-loaders/loading-images">Loading Images</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/understanding-loaders/loading-fonts">Loading Fonts</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/understanding-loaders/writing-loaders">Writing Loaders</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/building-with-webpack">Building with Webpack</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/building-with-webpack/enabling-sourcemaps">Enabling Sourcemaps</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/building-with-webpack/splitting-bundles">Splitting Bundles</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/building-with-webpack/code-splitting">Code Splitting</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/building-with-webpack/processing-with-babel">Processing with Babel</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/building-with-webpack/cleaning-build">Cleaning the Build</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/optimizing-build">Optimizing the Build</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/optimizing-build/minifying">Minifying the Build</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/optimizing-build/setting-environment-variables">Setting Environment Variables</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/optimizing-build/adding-hashes-to-filenames">Adding Hashes to Filenames</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/optimizing-build/analyzing-build-statistics">Analyzing Build Statistics</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/advanced-techniques">Advanced Techniques</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/advanced-techniques/consuming-packages">Consuming Packages</a></li><li class="toc-chapter"><span class="toc-nav__link toc-nav__link--current chapter">Authoring Packages</span></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/advanced-techniques/configuring-react">Configuring React</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/appendices">Appendices</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/appendices/searching-with-react">Searching with React</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/appendices/configuring-hmr-with-react">Configuring Hot Module Replacement with React</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/appendices/writing-eslint-plugins">Writing ESLint Plugins</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/appendices/customizing-eslint">Customizing ESLint</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/appendices/deploying">Deploying Applications</a></li></ul><div><div class="buy-container"><a href="/webpack/introduction"><img class="sidebar-cover" src="/assets/img/webpack_title_page_small.png" width="255" height="329"/></a><p><a class="btn btn--normal btn--buy" href="https://leanpub.com/survivejs-webpack">Buy at Leanpub</a></p></div><h3>See also</h3><div class="buy-container"><a href="/react/introduction"><img class="sidebar-cover" src="/assets/img/react_title_page_small.png" width="255" height="329"/></a><p><a class="btn btn--normal btn--buy" href="https://leanpub.com/survivejs-react">Buy at Leanpub</a></p></div></div></div><div class="chapter"><div class="post__content"><blockquote class="latestpost tip"><div>From the blog:</div><a class="latestpost-link" href="/blog/ajv-interview">ajv - The Fastest JSON Schema Validator - Interview with Evgeny Poberezkin</a></blockquote><div class="chapter-content"><p>Even though webpack is useful for bundling applications, it has its uses for package authors as well. You can use it to generate a website for your package and maintain the distribution files using it. It supports a format known as <a href="https://github.com/umdjs/umd">UMD format</a>. UMD is compatible with various environments (CommonJS, AMD, globals) making it good for distribution purposes.</p>
<h2 class="header"><a class="header-anchor" href="#anatomy-of-an-npm-package" id="anatomy-of-an-npm-package"></a><span class="text">Anatomy of an npm Package</span><a class="header-anchor-select" href="#anatomy-of-an-npm-package">#</a></h2>
<p>Most of the available npm packages are small and include just a select few files:</p>
<ul>
<li><em>index.js</em> - On small projects, it&#39;s enough to have the code at the root. On larger ones, you may want to start splitting it up further.</li>
<li><em>package.json</em> - npm metadata in JSON format</li>
<li><em>README.md</em> - README is the most important document of your project. It is written in Markdown format and provides an overview. For simple projects the whole documentation can fit there. It will be shown at the package page at <em>npmjs.com</em>.</li>
<li><em>LICENSE</em> - You should include licensing information within your project. You can refer to it from <em>package.json</em>.</li>
</ul>
<p>In larger projects, you may find the following:</p>
<ul>
<li><em>CONTRIBUTING.md</em> - A guide for potential contributors describing how the code should be developed.</li>
<li><em>CHANGELOG.md</em> - This document describes major changes per version. If you do major API changes, it can be a good idea to cover them here. It is possible to generate the file based on Git commit history, provided you write nice enough commits.</li>
<li><em>.travis.yml</em> - <a href="https://travis-ci.org/">Travis CI</a> is a popular continuous integration platform that is free for open source projects. You can run the tests of your package over multiple systems using it. There are other alternatives of course, but Travis is very popular.</li>
<li><em>.gitignore</em> - Ignore patterns for Git, i.e., which files shouldn&#39;t go under version control. It can be useful to ignore npm distribution files here so they don&#39;t clutter your repository.</li>
<li><em>.npmignore</em> - Ignore patterns for npm. This describes which files shouldn&#39;t go to your distribution version. A good alternative is to use the <a href="https://docs.npmjs.com/files/package.json#files">files</a> field at <em>package.json</em>. It allows you to maintain a whitelist of files to include into your distribution version.</li>
<li><em>.eslintignore</em> - Ignore patterns for ESLint. Again, tool specific.</li>
<li><em>.eslintrc</em> - Linting rules. You can use <em>.jshintrc</em> and such based on your preferences.</li>
<li><em>webpack.config.js</em> - If you are using a simple setup, you might as well have the configuration at project root.</li>
</ul>
<p>In addition, you&#39;ll likely have various directories for source, tests, demos, documentation, and so on.</p>
<blockquote class="tip"><i class="icon-attention-circled"></i>If you want to decrease the size of your dependencies, consider using a tool like <a href="https://www.npmjs.com/package/package-config-checker">package-config-checker</a>. It can pinpoint packages not using the <code>files</code> field correctly. Once you know which ones haven&#39;t set it, you can consider making Pull Requests (PRs) to those projects.</blockquote><h2 class="header"><a class="header-anchor" href="#understanding-package-json-" id="understanding-package-json-"></a><span class="text">Understanding <em>package.json</em></span><a class="header-anchor-select" href="#understanding-package-json-">#</a></h2>
<p>All packages come with a <em>package.json</em> that describes metadata related to them. This includes information about the author, various links, dependencies, and so on. The <a href="https://docs.npmjs.com/files/package.json">official documentation</a> covers them in detail.</p>
<p>I&#39;ve annotated a part of <em>package.json</em> of my <a href="https://github.com/survivejs/react-component-boilerplate">React component boilerplate</a> below:</p>
<pre><code class="lang-json"><span class="token punctuation" >{</span>
  /* Name of the project */
  <span class="token property" >"name"</span><span class="token operator" >:</span> <span class="token string" >"react-component-boilerplate"</span><span class="token punctuation" >,</span>

  /* Brief description */
  <span class="token property" >"description"</span><span class="token operator" >:</span> <span class="token string" >"Boilerplate for React.js components"</span><span class="token punctuation" >,</span>

  /* Who is the author + optional email + optional site */
  <span class="token property" >"author"</span><span class="token operator" >:</span> <span class="token string" >"Juho Vepsäläinen &lt;email goes here> (site goes here)"</span><span class="token punctuation" >,</span>

  /* Version of the package */
  <span class="token property" >"version"</span><span class="token operator" >:</span> <span class="token string" >"0.0.0"</span><span class="token punctuation" >,</span>

  /* `npm run &lt;name>` - `npm run` to get the available commands */
  <span class="token property" >"scripts"</span><span class="token operator" >:</span> <span class="token punctuation" >{</span>
    <span class="token property" >"start"</span><span class="token operator" >:</span> <span class="token string" >"webpack-dev-server --env development"</span><span class="token punctuation" >,</span>

    <span class="token property" >"test"</span><span class="token operator" >:</span> <span class="token string" >"jest"</span><span class="token punctuation" >,</span>
    "test<span class="token operator" >:</span>coverage"<span class="token operator" >:</span> <span class="token string" >"jest --coverage"</span><span class="token punctuation" >,</span>
    "test<span class="token operator" >:</span>watch"<span class="token operator" >:</span> <span class="token string" >"jest --watch"</span><span class="token punctuation" >,</span>
    "test<span class="token operator" >:</span>lint"<span class="token operator" >:</span> <span class="token string" >"eslint . --ext .js --ext .jsx --ignore-path .gitignore --ignore-pattern dist --cache"</span><span class="token punctuation" >,</span>

    <span class="token property" >"gh-pages"</span><span class="token operator" >:</span> <span class="token string" >"webpack --env gh-pages"</span><span class="token punctuation" >,</span>
    "gh-pages<span class="token operator" >:</span>deploy"<span class="token operator" >:</span> <span class="token string" >"gh-pages -d gh-pages"</span><span class="token punctuation" >,</span>
    "gh-pages<span class="token operator" >:</span>stats"<span class="token operator" >:</span> <span class="token string" >"webpack --env gh-pages --profile --json > stats.json"</span><span class="token punctuation" >,</span>

    <span class="token property" >"dist"</span><span class="token operator" >:</span> <span class="token string" >"webpack"</span> --env dist<span class="token string" >",
    "</span>dist<span class="token operator" >:</span>min"<span class="token operator" >:</span> <span class="token string" >"webpack --env dist:min"</span><span class="token punctuation" >,</span>
    "dist<span class="token operator" >:</span>modules"<span class="token operator" >:</span> <span class="token string" >"rm -rf ./dist-modules &amp;&amp; babel ./src --out-dir ./dist-modules"</span><span class="token punctuation" >,</span>

    <span class="token property" >"pretest"</span><span class="token operator" >:</span> <span class="token string" >"npm run test:lint"</span><span class="token punctuation" >,</span>
    <span class="token property" >"preversion"</span><span class="token operator" >:</span> <span class="token string" >"npm run test &amp;&amp; npm run dist &amp;&amp; npm run dist:min &amp;&amp; git commit --allow-empty -am \"</span>Update dist\<span class="token string" >""</span><span class="token punctuation" >,</span>
    <span class="token property" >"prepublish"</span><span class="token operator" >:</span> <span class="token string" >"npm run dist:modules"</span><span class="token punctuation" >,</span>
    <span class="token property" >"postpublish"</span><span class="token operator" >:</span> <span class="token string" >"npm run gh-pages &amp;&amp; npm run gh-pages:deploy"</span><span class="token punctuation" >,</span>

    /* If your library is installed through Git<span class="token punctuation" >,</span> you may want to transpile it */
    <span class="token property" >"postinstall"</span><span class="token operator" >:</span> <span class="token string" >"node lib/post_install.js"</span>
  <span class="token punctuation" >}</span><span class="token punctuation" >,</span>

  /* Entry point for terminal (i.e.<span class="token punctuation" >,</span> &lt;package name><span class="token punctuation" >)</span> */
  /* Don't set this unless you intend to allow CLI usage */
  <span class="token property" >"bin"</span><span class="token operator" >:</span> <span class="token string" >"./index.js"</span><span class="token punctuation" >,</span>

  /* Entry point (defaults to index.js<span class="token punctuation" >)</span> */
  <span class="token property" >"main"</span><span class="token operator" >:</span> <span class="token string" >"dist-modules"</span><span class="token punctuation" >,</span>

  /* ES6 entry points for bundlers to pick up */
  /* This assumes only standard features are used! */
  "jsnext<span class="token operator" >:</span>main"<span class="token operator" >:</span> <span class="token string" >"./src"</span><span class="token punctuation" >,</span>
  <span class="token property" >"module"</span><span class="token operator" >:</span> <span class="token string" >"./src"</span><span class="token punctuation" >,</span>

  /* Package dependencies needed to use it (peer deps can work too<span class="token punctuation" >,</span> see below<span class="token punctuation" >)</span> */
  <span class="token property" >"dependencies"</span><span class="token operator" >:</span> <span class="token punctuation" >{</span> ... <span class="token punctuation" >}</span><span class="token punctuation" >,</span>

  /* Package development dependencies needed to develop/compile it */
  <span class="token property" >"devDependencies"</span><span class="token operator" >:</span> <span class="token punctuation" >{</span> ... <span class="token punctuation" >}</span><span class="token punctuation" >,</span>

  /* Package peer dependencies. The consumer will fix exact versions. */
  /* In npm3 these won't get installed automatically and it's up to the */
  /* user to define which versions to use. */
  /* If you want to include RC versions to the range<span class="token punctuation" >,</span> consider using */
  /* a pattern such as ^<span class="token number" >4.0</span>.<span class="token number" >0</span>-<span class="token number" >0</span> */
  <span class="token property" >"peerDependencies"</span><span class="token operator" >:</span> <span class="token punctuation" >{</span>
    <span class="token property" >"lodash"</span><span class="token operator" >:</span> <span class="token string" >">= 3.5.0 &lt; 4.0.0"</span><span class="token punctuation" >,</span>
    <span class="token property" >"react"</span><span class="token operator" >:</span> <span class="token string" >">= 0.11.2 &lt; 16.0.0"</span>
  <span class="token punctuation" >}</span><span class="token punctuation" >,</span>

  /* Links to repository<span class="token punctuation" >,</span> homepage<span class="token punctuation" >,</span> and issue tracker */
  <span class="token property" >"repository"</span><span class="token operator" >:</span> <span class="token punctuation" >{</span>
    <span class="token property" >"type"</span><span class="token operator" >:</span> <span class="token string" >"git"</span><span class="token punctuation" >,</span>
    <span class="token property" >"url"</span><span class="token operator" >:</span> <span class="token string" >"https://github.com/survivejs/react-component-boilerplate.git"</span>
  <span class="token punctuation" >}</span><span class="token punctuation" >,</span>
  <span class="token property" >"homepage"</span><span class="token operator" >:</span> <span class="token string" >"https://survivejs.github.io/react-component-boilerplate/"</span><span class="token punctuation" >,</span>
  <span class="token property" >"bugs"</span><span class="token operator" >:</span> <span class="token punctuation" >{</span>
    <span class="token property" >"url"</span><span class="token operator" >:</span> <span class="token string" >"https://github.com/survivejs/react-component-boilerplate/issues"</span>
  <span class="token punctuation" >}</span><span class="token punctuation" >,</span>

  /* Keywords related to package. */
  /* Fill this well to make the package findable. */
  <span class="token property" >"keywords"</span><span class="token operator" >:</span> <span class="token punctuation" >[</span>
    <span class="token string" >"react"</span><span class="token punctuation" >,</span>
    <span class="token string" >"reactjs"</span><span class="token punctuation" >,</span>
    <span class="token string" >"boilerplate"</span>
  <span class="token punctuation" >]</span><span class="token punctuation" >,</span>

  /* Which license to use */
  <span class="token property" >"license"</span><span class="token operator" >:</span> <span class="token string" >"MIT"</span>
<span class="token punctuation" >}</span>
</code></pre>
<p>As you can see, <em>package.json</em> can contain a lot of information. You can attach non-npm specific metadata there that can be used by tooling. Given this can bloat <em>package.json</em>, it may be preferable to keep metadata at files of their own.</p>
<blockquote class="tip"><i class="icon-attention-circled"></i>JSON doesn&#39;t support comments even though I&#39;m using them above. There are extended notations, such as <a href="http://hjson.org/">Hjson</a>, that do.</blockquote><blockquote class="tip"><i class="icon-attention-circled"></i>If you want something cross-platform, consider using <a href="https://www.npmjs.com/package/rimraf">rimraf</a> over <code>rm -rf</code> as latter won&#39;t work on Windows.</blockquote><h2 class="header"><a class="header-anchor" href="#npm-workflow" id="npm-workflow"></a><span class="text">npm Workflow</span><a class="header-anchor-select" href="#npm-workflow">#</a></h2>
<p>Working with npm is surprisingly simple. To get started, you will need to use <a href="https://docs.npmjs.com/cli/adduser">npm adduser</a> (aliased to <code>npm login</code>). It allows you to set up an account. After this process has completed, it will create <em>~/.npmrc</em> and use that data for authentication. There&#39;s also <a href="https://docs.npmjs.com/cli/logout">npm logout</a> that will clear the credentials.</p>
<blockquote class="tip"><i class="icon-attention-circled"></i>When creating a project, <code>npm init</code> respects the values set at <em>~/.npmrc</em>. Hence, it may be worth your while to set reasonable defaults there to save some time. If you want to limit your package to a specific scope, use <code>npm init --scope=&lt;scope&gt;</code>. As a result, you will get <code>@&lt;scope&gt;/&lt;package&gt;</code>. This is handy, especially for personal packages since the default namespace of npm is so crowded.</blockquote><h3 class="header"><a class="header-anchor" href="#publishing-a-package" id="publishing-a-package"></a><span class="text">Publishing a Package</span><a class="header-anchor-select" href="#publishing-a-package">#</a></h3>
<p>Provided you have logged in, creating new packages is just a matter of executing <code>npm publish</code>. Given that the package name is still available and everything goes fine, you should have something out there! After this, you can install your package through <code>npm install</code> or <code>npm i</code>.</p>
<p>An alternate way to consume a library is to point at it directly in <em>package.json</em>. In that case, you can do <code>&quot;depName&quot;: &quot;&lt;github user&gt;/&lt;project&gt;#&lt;reference&gt;&quot;</code> where <code>&lt;reference&gt;</code> can be either commit hash, tag, or branch. You can point to specific pull requests through <code>&lt;github user&gt;/&lt;project&gt;#pull/&lt;id&gt;/head</code>. These techniques can be useful, especially if you need to hack around something quickly and cannot wait for the fix.</p>
<blockquote class="tip"><i class="icon-attention-circled"></i>If you want to see what files will be published to npm, consider using <a href="https://docs.npmjs.com/cli/pack">npm pack</a> generates a tarball you can examine. A tool known as <a href="https://www.npmjs.com/package/irish-pub">irish-pub</a> is another option and it will give you a listing to review. You can also use <a href="https://www.npmjs.com/package/publish-diff">publish-diff</a> to get a better of the changes that are going to be published.</blockquote><blockquote class="tip"><i class="icon-attention-circled"></i>A package known as <a href="https://www.npmjs.com/package/np">np</a> gives an interactive UI for publishing packages. It performs more work by default. <a href="https://www.npmjs.com/package/semantic-release">semantic-release</a> takes the idea one step further and automates entire process.</blockquote><h3 class="header"><a class="header-anchor" href="#bumping-a-version" id="bumping-a-version"></a><span class="text">Bumping a Version</span><a class="header-anchor-select" href="#bumping-a-version">#</a></h3>
<p>In order to bump your package version, you&#39;ll just need to invoke one of these commands:</p>
<ul>
<li><code>npm version &lt;x.y.z&gt;</code> - Define version yourself.</li>
<li><code>npm version &lt;major|minor|patch&gt;</code> - Let npm bump the version for you based on SemVer.</li>
<li><code>npm version &lt;premajor|preminor|prepatch|prerelease&gt;</code> - Same as previous expect this time it will generate <code>-&lt;prerelease number&gt;</code> suffix. Example: <code>v2.1.2-2</code>.</li>
</ul>
<p>Invoking any of these will update <em>package.json</em> and create a version commit to git automatically. If you execute <code>npm publish</code> after doing this, you should have something new out there.</p>
<p>Note that in the example above, I&#39;ve set up <code>version</code>-related hooks to make sure a version will contain a fresh version of a distribution build. I also run tests just in case. It&#39;s better to catch potential issues early on after all.</p>
<blockquote class="tip"><i class="icon-attention-circled"></i>Consider using <a href="https://www.npmjs.com/package/semantic-release">semantic-release</a> if you prefer a more structured approach. It can take some pain out of the release process while automating a part of it. For instance, it is able to detect possible breaking changes and generate changelogs.</blockquote><blockquote class="tip"><i class="icon-attention-circled"></i>A tool known as <a href="https://www.npmjs.com/package/dont-break">dont-break</a> allows you to run the unit tests of dependent projects against your current code to see if it breaks anything. Sometimes it&#39;s easy to overlook some use case that might not be a part of the public API even and break a dependency. <em>dont-break</em> helps with that particular problem.</blockquote><h3 class="header"><a class="header-anchor" href="#respect-the-semver" id="respect-the-semver"></a><span class="text">Respect the SemVer</span><a class="header-anchor-select" href="#respect-the-semver">#</a></h3>
<p>Even though it is simple to publish new versions out there, it is important to respect the SemVer. Roughly, it states that you should not break backwards compatibility, given certain rules are met. The exact rules were covered in the previous chapter, so I won&#39;t cover them again here.</p>
<p>To make it easier to comply with SemVer, <a href="https://www.npmjs.com/package/next-ver">next-ver</a> can compute the next version you should use and update it for you. <a href="https://www.npmjs.com/package/commitizen">commitizen</a> goes further and allows changelog generation and automated releases.</p>
<p>Both these tools rely on commit message annotations. On small projects, you might have <code>fix</code> or <code>feat</code> prefix at your commit titles (e.g., <code>fix - Allow doodad to work with zero</code>). You can also communicate the context using <code>chore(docs)</code> kind of style to document which part of the project was touched.</p>
<p>This metadata lets the tooling to figure out the types of the changes you made. It can help even with changelog generation and allow automated releases over manual ones. Annotating your commits well is a good practice in any case as it will make it easier to debug your code later.</p>
<p>Given SemVer can be a little tricky to manage, a backwards compatible alternative known as <a href="https://github.com/staltz/comver">ComVer</a> has been developed. The versioning scheme can be described as <code>&lt;not compatible&gt;.&lt;compatible&gt;</code>. Every time you make a change that&#39;s not compatible with an earlier version, you&#39;ll bump the first number. Otherwise you will bump the other.</p>
<h3 class="header"><a class="header-anchor" href="#publishing-a-prerelease-version" id="publishing-a-prerelease-version"></a><span class="text">Publishing a Prerelease Version</span><a class="header-anchor-select" href="#publishing-a-prerelease-version">#</a></h3>
<p>Sometimes, you might want to publish something preliminary for other people to test. There are certain conventions for this. You rarely see <em>alpha</em> releases at npm. <em>beta</em> and <em>rc</em> (release candidate) are common, though. For example, a package might have versions like this:</p>
<ul>
<li>v0.5.0-alpha1</li>
<li>v0.5.0-beta1</li>
<li>v0.5.0-beta2</li>
<li>v0.5.0-rc1</li>
<li>v0.5.0-rc2</li>
<li>v0.5.0</li>
</ul>
<p>The initial alpha release will allow the users to try out the upcoming functionality and provide feedback. The beta releases can be considered more stable.</p>
<p>The release candidates (rc) are close to an actual release and won&#39;t introduce any new functionality. They are all about refining the release till it&#39;s suitable for general consumption.</p>
<p>The workflow in this case is straight-forward:</p>
<ol>
<li><code>npm version 0.5.0-alpha1</code> - Update <em>package.json</em> as discussed earlier.</li>
<li><code>npm publish --tag alpha</code> - Publish the package under <em>alpha</em> tag.</li>
</ol>
<p>In order to consume the test version, your users will have to use <code>npm i &lt;your package name&gt;@alpha</code>.</p>
<blockquote class="tip"><i class="icon-attention-circled"></i>It can be useful to utilize <code>npm link</code> during development. That will allow you to use a development version of your library from some other context. Node.js will resolve to the linked version unless local <code>node_modules</code> happens to contain a version. If you want to remove the link, use <code>npm unlink</code>.</blockquote><h3 class="header"><a class="header-anchor" href="#on-naming-packages" id="on-naming-packages"></a><span class="text">On Naming Packages</span><a class="header-anchor-select" href="#on-naming-packages">#</a></h3>
<p>Before starting to develop, it can be a good idea to spend a little bit of time on figuring out a good name for your package. It&#39;s not very fun to write a great package just to notice the name has been taken. A good name is easy to find through a search engine, and most importantly, is available at npm.</p>
<p>As of npm 2.7.0 it is possible to create <a href="https://docs.npmjs.com/getting-started/scoped-packages">scoped packages</a>. They follow format <code>@username/project-name</code>. Simply follow that when naming your project. This is a good way to grow packages.</p>
<blockquote class="tip"><i class="icon-attention-circled"></i>If you find a good name that appears to be abandoned, contact npm and they&#39;ll likely give it you if you ask nicely.</blockquote><h2 class="header"><a class="header-anchor" href="#npm-lifecycle-hooks" id="npm-lifecycle-hooks"></a><span class="text">npm Lifecycle Hooks</span><a class="header-anchor-select" href="#npm-lifecycle-hooks">#</a></h2>
<p>npm provides various lifecycle hooks that can be useful. Suppose you are authoring a React component using Babel and some of its goodies. You could let the <em>package.json</em> <code>main</code> field point at the UMD version as generated above. However, this won&#39;t be ideal for those consuming the library through npm.</p>
<p>It is better to generate a ES5 compatible version of the package for npm consumers. This can be achieved using <strong>babel</strong> CLI tool:</p>
<pre><code class="lang-bash">babel ./lib --out-dir ./dist-modules
</code></pre>
<p>This will walk through the <code>./lib</code> directory and output a processed file for each library it encounters to <code>./dist-modules</code>.</p>
<p>Since we want to avoid having to run the command directly whenever we publish a new version, we can connect it to <code>prepublish</code> hook like this:</p>
<pre><code class="lang-json"><span class="token property" >"scripts"</span><span class="token operator" >:</span> <span class="token punctuation" >{</span>
  ...
  <span class="token property" >"prepublish"</span><span class="token operator" >:</span> <span class="token string" >"babel ./lib --out-dir ./dist-modules"</span>
<span class="token punctuation" >}</span>
</code></pre>
<p>Make sure you execute <code>npm i babel-cli --save-dev</code> to include the tool into your project.</p>
<p>You probably don&#39;t want the directory content to end up in your Git repository. In order to avoid this and to keep your <code>git status</code> clean, consider this sort of <code>.gitignore</code>:</p>
<pre><code class="lang-bash">dist-modules/
<span class="token punctuation" >..</span>.
</code></pre>
<p>Besides <code>prepublish</code>, npm provides a set of other hooks. The naming is always the same and follows the pattern <code>pre&lt;hook&gt;</code>, <code>&lt;hook&gt;</code>, <code>post&lt;hook&gt;</code> where <code>&lt;hook&gt;</code> can be <code>publish</code>, <code>install</code>, <code>test</code>, <code>stop</code>, <code>start</code>, <code>restart</code>, or <code>version</code>. Even though npm will trigger scripts bound to these automatically, you can trigger them explicitly through <code>npm run</code> for testing (i.e., <code>npm run prepublish</code>).</p>
<p>There are plenty of smaller tricks to learn for advanced usage. Those are better covered by <a href="https://docs.npmjs.com/misc/scripts">the official documentation</a>. Often all you need is just a <code>prepublish</code> script for build automation.</p>
<h3 class="header"><a class="header-anchor" href="#working-around-prepublish-in-npm-3" id="working-around-prepublish-in-npm-3"></a><span class="text">Working Around <code>prepublish</code> in npm 3</span><a class="header-anchor-select" href="#working-around-prepublish-in-npm-3">#</a></h3>
<p>It is important to note that in npm 3 <code>prepublish</code> hook will get triggered also when you run <code>npm install</code> on the project locally. Sometimes this can be surprising and counter-productive even.</p>
<p>A solution known as <a href="https://www.npmjs.com/package/in-publish">in-publish</a> allows you to tune the behavior and skip the installation step. You need to prepend your script with <code>in-publish &amp;&amp; babel ...</code> kind of line for this to work. npm 4 and the following versions will fix this confusing behavior.</p>
<h2 class="header"><a class="header-anchor" href="#sharing-authorship" id="sharing-authorship"></a><span class="text">Sharing Authorship</span><a class="header-anchor-select" href="#sharing-authorship">#</a></h2>
<p>As packages evolve, you may want to start developing with others. You could become the new maintainer of some project, or pass the torch to someone else. These things happen as packages evolve.</p>
<p>npm provides a few commands for these purposes. It&#39;s all behind <code>npm owner</code> namespace. More specifically, you&#39;ll find <code>npm owner ls &lt;package name&gt;</code>, <code>npm owner add &lt;user&gt; &lt;package name&gt;</code> and <code>npm owner rm &lt;user&gt; &lt;package name&gt;</code> there. That&#39;s about it.</p>
<p>See <a href="https://docs.npmjs.com/cli/owner">npm documentation</a> for the most up to date information about the topic.</p>
<h2 class="header"><a class="header-anchor" href="#package-authoring-techniques" id="package-authoring-techniques"></a><span class="text">Package Authoring Techniques</span><a class="header-anchor-select" href="#package-authoring-techniques">#</a></h2>
<p>There are a couple of package authoring-related techniques that are good to know. You can set up webpack to generate a UMD build. You can also exclude certain dependencies out of your bundle.</p>
<p>To make it easier to consume your packages, you can also generate a Node.js friendly versions. This technique can be improved further by setting up a script to generate a Node.js friendly version.</p>
<h3 class="header"><a class="header-anchor" href="#setting-up-umd" id="setting-up-umd"></a><span class="text">Setting Up UMD</span><a class="header-anchor-select" href="#setting-up-umd">#</a></h3>
<p>Allowing webpack to output your bundle in the UMD format is simple. Webpack allows you to control the output format using <a href="https://webpack.js.org/configuration/output/#output-librarytarget">output.libraryTarget</a> field. It defaults to <code>var</code>. This means it will set your bundle to a variable defined using the <code>output.library</code> field.</p>
<p>There are other options too, but the one we are interested in is <code>output.libraryTarget: &#39;umd&#39;</code>. Consider the example below:</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="lang-javascript">output<span class="token punctuation" >:</span> <span class="token punctuation" >{</span>
  path<span class="token punctuation" >:</span> PATHS<span class="token punctuation" >.</span>dist<span class="token punctuation" >,</span>
  libraryTarget<span class="token punctuation" >:</span> <span class="token string" >'umd'</span><span class="token punctuation" >,</span> <span class="token comment" spellcheck="true">// !!</span>
  <span class="token comment" spellcheck="true">// Name of the generated global.</span>
  library<span class="token punctuation" >:</span> <span class="token string" >'MyLibrary'</span><span class="token punctuation" >,</span>
  <span class="token comment" spellcheck="true">// Optional name for the generated AMD module.</span>
  umdNamedDefine<span class="token punctuation" >:</span> <span class="token string" >'my_library'</span>
<span class="token punctuation" >}</span>
</code></pre>
<h3 class="header"><a class="header-anchor" href="#supporting-systemjs" id="supporting-systemjs"></a><span class="text">Supporting SystemJS</span><a class="header-anchor-select" href="#supporting-systemjs">#</a></h3>
<p><a href="https://github.com/systemjs/systemjs">SystemJS</a> is an emerging standard that&#39;s starting to get more attention. A plugin known as <a href="https://www.npmjs.com/package/webpack-system-register">webpack-system-register</a> allows you to wrap your output in a <code>System.register</code> call making it compatible with the scheme.</p>
<p>If you want to support SystemJS this way, set up another build target where to generate a bundle for it.</p>
<h3 class="header"><a class="header-anchor" href="#avoiding-bundling-dependencies" id="avoiding-bundling-dependencies"></a><span class="text">Avoiding Bundling Dependencies</span><a class="header-anchor-select" href="#avoiding-bundling-dependencies">#</a></h3>
<p>Since it&#39;s not a good idea to bundle your package dependencies, such as React, within the distribution bundle itself, you should let the user inject them. You can configure external dependencies using the <code>externals</code> configuration. You can control it like this:</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="lang-javascript">externals<span class="token punctuation" >:</span> <span class="token punctuation" >{</span>
  <span class="token comment" spellcheck="true">// Adapt `import merge from 'lodash/merge';` to different environments.</span>
  <span class="token string" >'lodash/merge'</span><span class="token punctuation" >:</span> <span class="token punctuation" >{</span>
    commonjs<span class="token punctuation" >:</span> <span class="token string" >'lodash/merge'</span><span class="token punctuation" >,</span>
    commonjs2<span class="token punctuation" >:</span> <span class="token string" >'lodash/merge'</span><span class="token punctuation" >,</span>
    <span class="token comment" spellcheck="true">// Look up lodash.merge below ['lodash', 'merge'] for AMD.</span>
    amd<span class="token punctuation" >:</span>  <span class="token punctuation" >[</span><span class="token string" >'lodash'</span><span class="token punctuation" >,</span> <span class="token string" >'merge'</span><span class="token punctuation" >]</span><span class="token punctuation" >,</span>
    <span class="token comment" spellcheck="true">// Look up lodash.merge through `_.merge` in global environment.</span>
    root<span class="token punctuation" >:</span> <span class="token punctuation" >[</span><span class="token string" >'_'</span><span class="token punctuation" >,</span> <span class="token string" >'merge'</span><span class="token punctuation" >]</span><span class="token punctuation" >,</span>
  <span class="token punctuation" >}</span><span class="token punctuation" >,</span>
  <span class="token comment" spellcheck="true">// Adapt React to different environments.</span>
  <span class="token string" >'react'</span><span class="token punctuation" >:</span> <span class="token punctuation" >{</span>
    commonjs<span class="token punctuation" >:</span> <span class="token string" >'react'</span><span class="token punctuation" >,</span>
    commonjs2<span class="token punctuation" >:</span> <span class="token string" >'react'</span><span class="token punctuation" >,</span>
    amd<span class="token punctuation" >:</span> <span class="token string" >'React'</span><span class="token punctuation" >,</span>
    root<span class="token punctuation" >:</span> <span class="token string" >'React'</span><span class="token punctuation" >,</span>
  <span class="token punctuation" >}</span><span class="token punctuation" >,</span>
<span class="token punctuation" >}</span><span class="token punctuation" >,</span>
</code></pre>
<p>These two fields help you a lot as a package author but there&#39;s more to it.</p>
<blockquote class="tip"><i class="icon-attention-circled"></i>If you want to include all modules in <em>node_modules</em> by default, it could be interesting to use <a href="https://www.npmjs.com/package/webpack-node-externals">webpack-node-externals</a> instead. Then you would end up with <code>externals: [nodeExternals()]</code> kind of declaration. If you don&#39;t need to adapt to different environments, this could be a neat way to go.</blockquote><blockquote class="tip"><i class="icon-attention-circled"></i>Given bundling may still be required sometimes, consider using the <a href="https://docs.npmjs.com/files/package.json#bundleddependencies">bundledDependencies</a> (or just <code>bundleDependencies</code>) field. This can be useful if you want to share third-party files not available through npm. There&#39;s a great <a href="http://stackoverflow.com/a/25044361/228885">Stack Overflow answer</a> discussing the topic further.</blockquote><h3 class="header"><a class="header-anchor" href="#processing-node-js-version-through-babel" id="processing-node-js-version-through-babel"></a><span class="text">Processing Node.js Version through Babel</span><a class="header-anchor-select" href="#processing-node-js-version-through-babel">#</a></h3>
<p>If you are processing your code through Babel, I suggest you process the Node.js version of the package directly through Babel and skip webpack. The advantage of doing this is that it gives you separate modules that are easier to consume one by one if needed. This avoids having to go through a heavy bundle.</p>
<p>In this case you&#39;ll likely want a setup like this:</p>
<p><strong>package.json</strong></p>
<pre><code class="lang-json"><span class="token punctuation" >{</span>
  ..
  /* `npm run &lt;name>` */
  <span class="token property" >"scripts"</span><span class="token operator" >:</span> <span class="token punctuation" >{</span>
    ...
    <span class="token property" >"dist"</span><span class="token operator" >:</span> <span class="token string" >"webpack --env dist"</span><span class="token punctuation" >,</span>
    "dist<span class="token operator" >:</span>min"<span class="token operator" >:</span> <span class="token string" >"webpack --env dist:min"</span><span class="token punctuation" >,</span>

    /* Process source through Babel! */
    "dist<span class="token operator" >:</span>modules"<span class="token operator" >:</span> <span class="token string" >"babel ./src --out-dir ./dist-modules"</span><span class="token punctuation" >,</span>

    ...

    <span class="token property" >"preversion"</span><span class="token operator" >:</span> <span class="token string" >"npm run test &amp;&amp; npm run dist &amp;&amp; npm run dist:min &amp;&amp; git commit --allow-empty -am \"</span>Update dist\<span class="token string" >""</span><span class="token punctuation" >,</span>
    <span class="token property" >"prepublish"</span><span class="token operator" >:</span> <span class="token string" >"npm run dist:modules"</span><span class="token punctuation" >,</span>
    ...
  <span class="token punctuation" >}</span><span class="token punctuation" >,</span>
  /* Point to the Node.js specific version */
  <span class="token property" >"main"</span><span class="token operator" >:</span> <span class="token string" >"dist-modules"</span><span class="token punctuation" >,</span>
  ...
<span class="token punctuation" >}</span>
</code></pre>
<p>There is one problem, though. What if someone points to a development version of your package directly through GitHub? It simply won&#39;t work as the <code>dist-modules</code> directory will be missing. This can be fixed using a hook that will generate the needed source.</p>
<h3 class="header"><a class="header-anchor" href="#generating-a-distribution-for-development-usage" id="generating-a-distribution-for-development-usage"></a><span class="text">Generating a Distribution for Development Usage</span><a class="header-anchor-select" href="#generating-a-distribution-for-development-usage">#</a></h3>
<p>To solve the development distribution problem, we need to hook up a custom script the right way. First, we need to connect the hook with a custom script:</p>
<p><strong>package.json</strong></p>
<pre><code class="lang-json"><span class="token punctuation" >{</span>
  ...
  <span class="token property" >"scripts"</span><span class="token operator" >:</span> <span class="token punctuation" >{</span>
    ...
    /* Point to the script that generates the missing source. */
    <span class="token property" >"postinstall"</span><span class="token operator" >:</span> <span class="token string" >"node lib/post_install.js"</span>
  <span class="token punctuation" >}</span><span class="token punctuation" >,</span>
  ...
<span class="token punctuation" >}</span>
</code></pre>
<p>Secondly, we&#39;ll need the script itself:</p>
<p><strong>lib/post_install.js</strong></p>
<pre><code class="lang-javascript">#<span class="token operator" >!</span><span class="token operator" >/</span>usr<span class="token operator" >/</span>bin<span class="token operator" >/</span>env node
<span class="token comment" spellcheck="true">// adapted based on rackt/history (MIT)</span>
<span class="token keyword" >const</span> spawn <span class="token operator" >=</span> <span class="token function" >require</span><span class="token punctuation" >(</span><span class="token string" >'child_process'</span><span class="token punctuation" >)</span><span class="token punctuation" >.</span>spawn<span class="token punctuation" >;</span>
<span class="token keyword" >const</span> stat <span class="token operator" >=</span> <span class="token function" >require</span><span class="token punctuation" >(</span><span class="token string" >'fs'</span><span class="token punctuation" >)</span><span class="token punctuation" >.</span>stat<span class="token punctuation" >;</span>

<span class="token function" >stat</span><span class="token punctuation" >(</span><span class="token string" >'dist-modules'</span><span class="token punctuation" >,</span> <span class="token keyword" >function</span><span class="token punctuation" >(</span>error<span class="token punctuation" >,</span> stat<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
  <span class="token keyword" >if</span> <span class="token punctuation" >(</span>error <span class="token operator" >||</span> <span class="token operator" >!</span>stat<span class="token punctuation" >.</span><span class="token function" >isDirectory</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
    <span class="token function" >spawn</span><span class="token punctuation" >(</span>
      <span class="token string" >'npm'</span><span class="token punctuation" >,</span>
      <span class="token punctuation" >[</span>
        <span class="token string" >'i'</span><span class="token punctuation" >,</span>
        <span class="token string" >'babel-cli'</span><span class="token punctuation" >,</span>
        <span class="token string" >'babel-preset-es2015'</span><span class="token punctuation" >,</span>
        <span class="token string" >'babel-preset-react'</span>
      <span class="token punctuation" >]</span><span class="token punctuation" >,</span>
      <span class="token punctuation" >{</span>
        stdio<span class="token punctuation" >:</span> <span class="token punctuation" >[</span><span class="token number" >0</span><span class="token punctuation" >,</span> <span class="token number" >1</span><span class="token punctuation" >,</span> <span class="token number" >2</span><span class="token punctuation" >]</span>
      <span class="token punctuation" >}</span>
    <span class="token punctuation" >)</span><span class="token punctuation" >.</span><span class="token function" >on</span><span class="token punctuation" >(</span><span class="token string" >'close'</span><span class="token punctuation" >,</span> <span class="token keyword" >function</span><span class="token punctuation" >(</span>exitCode<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
      <span class="token function" >spawn</span><span class="token punctuation" >(</span><span class="token string" >'npm'</span><span class="token punctuation" >,</span> <span class="token punctuation" >[</span><span class="token string" >'run'</span><span class="token punctuation" >,</span> <span class="token string" >'dist-modules'</span><span class="token punctuation" >]</span><span class="token punctuation" >,</span> <span class="token punctuation" >{</span> stdio<span class="token punctuation" >:</span> <span class="token punctuation" >[</span><span class="token number" >0</span><span class="token punctuation" >,</span> <span class="token number" >1</span><span class="token punctuation" >,</span> <span class="token number" >2</span><span class="token punctuation" >]</span> <span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
    <span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
  <span class="token punctuation" >}</span>
<span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
</code></pre>
<p>The script may need tweaking to fit your purposes. But it&#39;s enough to give you a rough idea. If the <code>dist-modules</code> directory is missing, we&#39;ll generate it here. That&#39;s it.</p>
<blockquote class="warning"><i class="icon-attention"></i>Relying on <code>postinstall</code> scripts can be <a href="http://blog.npmjs.org/post/141702881055/package-install-scripts-vulnerability">potentially dangerous</a>. Security minded developers may want to use <code>npm install --ignore-scripts</code>. You can set that default through <code>npm config set ignore-scripts true</code> if you want. Being a little cautious might not hurt.</blockquote><h3 class="header"><a class="header-anchor" href="#deprecating-unpublishing-and-renaming-packages" id="deprecating-unpublishing-and-renaming-packages"></a><span class="text">Deprecating, Unpublishing, and Renaming Packages</span><a class="header-anchor-select" href="#deprecating-unpublishing-and-renaming-packages">#</a></h3>
<p>It is possible that at some point in time your package reaches end of its life. Another package might replace it or it simply might become obsolete. For this purpose npm provides <a href="https://docs.npmjs.com/cli/deprecate">npm deprecate</a> command. You can state <code>npm deprecate foo@&quot;&lt; 0.4.0&quot; &quot;Use bar package instead&quot;</code>.</p>
<p>You can deprecate a range like this or a whole package by skipping the range. Given mistakes happen, you can undeprecate a package by providing an empty message.</p>
<p>Given there&#39;s no official way to rename packages, deprecation can be useful. You can publish the package under a new name and let the users know of the new name in your deprecation message.</p>
<p>There is a heavier duty option known as <a href="https://docs.npmjs.com/cli/unpublish">npm unpublish</a>. Using <code>npm unpublish</code> you can literally pull a package out of the registry. Given this can be potentially dangerous and break code for a lot of people, it has been <a href="http://blog.npmjs.org/post/141905368000/changes-to-npms-unpublish-policy">restricted to versions that are less than 24 hours old</a>. Most likely you don&#39;t need the feature at all, but it is good to know it exists.</p>
<h2 class="header"><a class="header-anchor" href="#conclusion" id="conclusion"></a><span class="text">Conclusion</span><a class="header-anchor-select" href="#conclusion">#</a></h2>
<p>You should now have a basic idea of how to author npm packages. Webpack can help you a lot here. Just picking up <code>output.libraryTarget</code> and <code>externals</code> help you a lot.</p>
<p>These options are useful beyond package authoring. Particularly <code>externals</code> comes in handy when you want to exclude certain dependencies outside of your bundles and load them using some other way.</p>
</div><div class="social-links"><blockquote class="tip">If you enjoyed this chapter, consider subscribing to the mailing list below or following <a href="https://twitter.com/survivejs">@survivejs</a> for occasional updates. There is also <a href="/atom.xml">RSS</a> available for old beards (no pun intended).</blockquote><h2 class="subscribe-header">Subscribe to the mailing list</h2><form action="//jster.us7.list-manage.com/subscribe/post?u=ed40c0084a0c5ba31b3365d65&amp;id=b853b8e786" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate social-form" target="_blank" novalidate=""><div id="mc_embed_signup_scroll"><div class="mc-field-group social-input-container"><input type="email" placeholder="Email" value="" name="EMAIL" class="required email" id="mce-EMAIL"/></div><div style="display:none;position:absolute;left:-5000px;"><input type="text" name="b_ed40c0084a0c5ba31b3365d65_b853b8e786" tabindex="-1" value=""/></div><div class="social-subscribe-container"><input type="submit" class="btn button social-subscribe" style="margin-top:1em;margin-bottom:1em;line-height:2em;" value="Subscribe" name="subscribe" id="mc-embedded-subscribe"/></div></div></form></div><div class="new-prevnext"><div class="new-prevnext__prev"><div class="new-prevnext__bg" style="background-image:url(/assets/img/chapters/chunks.jpg);"></div><span class="new-prevnext__info">Previous chapter</span><a class="new-prevnext__link" href="/webpack/advanced-techniques/consuming-packages">Consuming Packages</a></div><div class="new-prevnext__next"><div class="new-prevnext__bg" style="background-image:url(/assets/img/chapters/panel.jpg);"></div><span class="new-prevnext__info">Next chapter</span><a class="new-prevnext__link" href="/webpack/advanced-techniques/configuring-react">Configuring React</a></div></div><blockquote class="tip"><p>This book is <a href="https://leanpub.com/survivejs-webpack">available through Leanpub</a>. By purchasing the book you support the development of further content. A part of profit (~30%) goes to Tobias Koppers, the author of Webpack.</p></blockquote><div id="disqus_thread"></div></div></div><div><a class="next-page" title="Configuring React" href="/webpack/advanced-techniques/configuring-react"><i class="icon-right-open"></i></a><a class="previous-page" title="Consuming Packages" href="/webpack/advanced-techniques/consuming-packages"><i class="icon-left-open"></i></a></div><script type="text/javascript">var disqus_shortname = 'survivejs';(function() {var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);})();</script></div><div class="nav__wrapper"><input type="checkbox" class="nav__toggle" id="nav__toggle"/><label class="nav__toggle-label" for="nav__toggle"></label><nav class="nav"><div class="nav__link"><a class="" href="/">Home</a></div><div class="nav__link"><a class="" href="/blog">Read the blog</a></div><div class="nav__link"><a class="" href="https://leanpub.com/survivejs-webpack">Buy the ebook</a></div><div class="nav__link"><a class="" href=""></a></div><div class="nav__link"><a class="" href="https://twitter.com/survivejs">@survivejs</a></div></nav></div><a href="https://github.com/survivejs/webpack" class="github-corner"><svg width="80" height="80" viewBox="0 0 250 250" style="position:absolute;top:0;fill:#000;right:0;"><path class="octo-banner" d="M0 0l115 115h15l12 27 108 108V0z" fill="#fff"></path><path class="octo-arm" d="M128 109c-15-9-9-19-9-19 3-7 2-11 2-11-1-7 3-2 3-2 4 5 2 11 2 11-3 10 5 15 9 16" style="-webkit-transform-origin:130px 106px;transform-origin:130px 106px;"></path><path class="octo-body" d="M115 115s4 2 5 0l14-14c3-2 6-3 8-3-8-11-15-24 2-41 5-5 10-7 16-7 1-2 3-7 12-11 0 0 5 3 7 16 4 2 8 5 12 9s7 8 9 12c14 3 17 7 17 7-4 8-9 11-11 11 0 6-2 11-7 16-16 16-30 10-41 2 0 3-1 7-5 11l-12 11c-1 1 1 5 1 5z"></path></svg></a><footer><div class="footer-wrapper"><div class="footer-content-wrapper"><div class="footer-social"><h3>Social</h3><ul><li><a href="https://twitter.com/survivejs" target="_blank">@survivejs</a></li><li><a href="http://eepurl.com/bth1v5" target="_blank">Mailing List</a></li><li><a href="https://gitter.im/survivejs" target="_blank">Gitter Chat</a></li><li><a href="https://github.com/survivejs" target="_blank">GitHub</a></li><li><a href="/atom.xml" target="_blank">Blog RSS</a></li><li><a href="http://goo.gl/forms/OWdGIOdHm9" target="_blank">Contact</a></li><li><a href="https://github.com/survivejs/ama/issues" target="_blank">Ask Me Anything</a></li></ul></div><div class="footer-blog"><h3>From the Blog</h3><ul class="blog-teasers"><li><a class="blog-teaser" href="/blog/ajv-interview">ajv - The Fastest JSON Schema Validator - Interview with Evgeny Poberezkin</a></li><li><a class="blog-teaser" href="/blog/survivejs-webpack-160">SurviveJS - Webpack - v1.6.0</a></li><li><a class="blog-teaser" href="/blog/isomorphic-webpack-interview">isomorphic-webpack - Universal module consumption using webpack - Interview with Gajus Kuizinas</a></li><li><a class="blog-teaser" href="/blog/survivejs-webpack-150">SurviveJS - Webpack - v1.5.0</a></li><li><a class="blog-teaser" href="/blog/styletron-interview">Styletron - Universal, high-performance JavaScript styles - Interview with Ryan Tsao</a></li><li><a class="blog-teaser" href="/blog/survivejs-webpack-142">SurviveJS - Webpack - v1.4.2</a></li><li><a class="blog-teaser" href="/blog/inferno-interview">Inferno - Blazing fast, React-like UI library - Interview with Dominic Gannaway</a></li><li><a class="blog-teaser" href="/blog/svelte-interview">Svelte - The magical disappearing UI framework - Interview with Rich Harris</a></li><li><a class="blog-teaser" href="/blog/webpack-merge-interview">webpack-merge - Taming Webpack Configuration - Interview with Juho Vepsäläinen</a></li><li><a class="blog-teaser" href="/blog/starratio-interview">StarRatio - Compare JavaScript Projects - Interview with Dmitry Zaets</a></li></ul></div></div></div></footer><div><div class="gitter-open-chat-button">Need help?</div><script type="text/javascript">
            ((window.gitter = {}).chat = {}).options = {
              showChatByDefault: false,
              activationElement: '.gitter-open-chat-button',
              room: 'survivejs/webpack'
            };
          </script><script src="https://sidecar.gitter.im/dist/sidecar.v1.js" async="" defer=""></script></div><div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script><script type="text/javascript">
            docsearch({
              apiKey: '1182e3806d62e921613b8dc9c7a22ef3',
              indexName: 'survivejs_webpack',
              inputSelector: '#search',
              debug: false
            });
          </script></div></main></body></html>